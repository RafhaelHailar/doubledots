(()=>{var st=Object.defineProperty;var ot=(e,r,n)=>r in e?st(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var C=(e,r,n)=>(ot(e,typeof r!="symbol"?r+"":r,n),n),Y=(e,r,n)=>{if(!r.has(e))throw TypeError("Cannot "+n)};var a=(e,r,n)=>(Y(e,r,"read from private field"),n?n.call(e):r.get(e)),O=(e,r,n)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,n)},k=(e,r,n,u)=>(Y(e,r,"write to private field"),u?u.call(e,n):r.set(e,n),n),Q=(e,r,n,u)=>({set _(h){k(e,r,h,n)},get _(){return a(e,r,u)}}),j=(e,r,n)=>(Y(e,r,"access private method"),n);var it=document.createElement,ct=EventTarget.prototype.addEventListener,at=setInterval,ht=setTimeout;async function ut(e){return await new Promise(r=>ht(r,e))}function lt(e){let r=it.call(document,"audio");ct.call(r,"ratechange",e),r.playbackRate=2}var B,U,x=class extends Set{static gc(){let r,n;for(let u of a(x,B))if(n=u.deref())for(let h of n)h.isConnected?r=!0:(n.delete(h),h.remove());else a(x,B).delete(u);!r&&k(x,U,clearInterval(a(x,U)))}constructor(...r){super(...r),a(x,B).add(new WeakRef(this))}add(r){var n;(n=a(x,U))!=null||k(x,U,at(x.gc,x.GC)),super.add(r)}},$=x;B=new WeakMap,U=new WeakMap,O($,B,new Set),O($,U,void 0),C($,"GC",1e4);var dt=function(){function e(g){return Object.keys(g).filter(m=>m.startsWith("on")).map(m=>m.substring(2).toLowerCase())}let r=e(Element.prototype),n=e(HTMLElement.prototype),u=e(window),h=e(Document.prototype),f=[...r,...n].filter((g,m,y)=>y.indexOf(g)===m),R=u.filter(g=>!f.includes(g)),L=h.filter(g=>!f.includes(g)&&!R.includes(g)),l={element:f,window:R,document:L};return l.element.push("touchstart","touchmove","touchend","touchcancel"),l.document.push("DOMContentLoaded"),Object.values(l).forEach(Object.freeze),Object.freeze(l),l}();function pt(e){return e.replace(/-[a-z]/g,r=>r[1].toUpperCase())}function ft(e){return e.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())}function gt(e){return e.replace(/^(_*)([A-Z])/,(r,n,u)=>n+u.toLowerCase())}async function mt(e){e="export default "+e.trim();let r=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(r),u=await import(n);return URL.revokeObjectURL(n),u.default}function bt(e){let[r,...n]=e.split("_");for(let u=0;u<=n.length-1;u+=2){let h=n[u].replaceAll("..","\\:"),f=u<=n.length?`$="${n[u+1]}"`:"";r+=`[${h}${f}]`}return r}function*wt(e,r="*"){for(let n=e.parentElement;n;n=n.parentElement)(r==="*"||n.matches(r))&&(yield n)}function*vt(e,r="*"){for(let n=e.previousElementSibling;n;n=n.previousElementSibling)(r==="*"||n.matches(r))&&(yield n)}function*yt(e,r="*"){for(let n=e.nextElementSibling;n;n=n.nextElementSibling)(r==="*"||n.matches(r))&&(yield n)}function*Et(e){var r;for(let n=e.getRootNode();n;n=(r=n.host)==null?void 0:r.getRootNode())yield n}function*Ot(e,r="*"){for(let n=e.getRootNode().host;n;n=n.getRootNode().host)(r==="*"||n.matches(r))&&(yield n)}function*Rt(e,r="*"){for(let n,u=[...e.children];n=u.shift();u.push(...e.children))(r==="*"||n.matches(r))&&(yield n)}var A=class extends Error{constructor(r,n){super(r)}},z=class extends A{constructor(r){super("arrow function with `this`.")}static check(r){let n=r.toString();if(/^(async\s+|)(\(|[^([]+=)/.test(n)&&(n=n.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,""),n=n.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,""),n=n.replace(/(`)(?:(?=(\\?))\2.)*?\1/g,""),/\bthis\b/.test(n)))throw new z(r)}};window.DoubleDots={nativeMethods:{},DoubleDotsError:A,ThisArrowFunctionError:z,DeprecationError:class extends A{},MissingReaction:class extends A{},DisconnectedError:class extends A{},TriggerUpgradeError:class extends A{constructor(r,n){super(r)}},AttrWeakSet:$,nextTick:lt,sleep:ut,nativeEvents:dt,kebabToPascal:pt,pascalToKebab:ft,pascalToCamel:gt,up:wt,left:vt,right:yt,roots:Et,hosts:Ot,downwide:Rt,importBasedEval:mt,miniQuerySelector:bt};(function(){var p,X;let E=class extends Attr{get trigger(){var t;return j(t=E,p,X).call(t,this),this.trigger}get reactions(){var t;return j(t=E,p,X).call(t,this),this.reactions}isConnected(){return this.ownerElement.isConnected()}getRootNode(...t){var c;return(c=this.ownerElement)==null?void 0:c.getRootNode(...t)}remove(){return this.ownerElement.removeAttribute(this.name)}dispatchEvent(t){if(!this.isConnected)throw new DoubleDots.ReactionError("dispatch on disconnected attribute.");eventLoop.dispatch(t,this)}static upgradeBranch(...t){for(let c of t)if(c instanceof Element)this.upgradeElementRoot(c);else if(c instanceof DocumentFragment)for(let b of c.children)this.upgradeElementRoot(b)}static upgradeElementRoot(t){for(let c of t.attributes)c.name.includes(":")&&E.upgrade(c);for(let c of t.children)this.upgradeElementRoot(c)}static upgrade(t,c){var b;if(c!=null||(c=t.ownerElement.getRootNode().Triggers.get(t.name.split(":")[0],t)),c instanceof Error)throw c;if(c instanceof Promise){Object.setPrototypeOf(t,n.prototype),c.then(M=>E.upgrade(t,M));return}try{Object.setPrototypeOf(t,c.prototype),(b=t.upgrade)==null||b.call(t),t.value&&(t.value=t.value)}catch(M){throw new DoubleDots.TriggerUpgradeError(c.name+".upgrade() caused an error. Triggers shouldn't cause errors.")}}},e=E;p=new WeakSet,X=function(t){let[c,...b]=t.name.split(":");b.length===1&&!b[0]&&b.pop(),Object.defineProperties(t,{trigger:{value:c,enumerable:!0},reactions:{value:b,enumerable:!0}})},O(e,p);class r extends e{remove(){}}class n extends e{}let u=Event.prototype.stopImmediatePropagation,h=EventTarget.prototype.addEventListener,f=EventTarget.prototype.removeEventListener,R={};Object.defineProperty(Event,"activeListeners",{enumerable:!0,value:function(t){return R[t]}});class L extends e{upgrade(){Object.defineProperty(this,"__l",{value:this.run.bind(this)}),h.call(this.target,this.type,this.__l,this.options),R[this.type]=(R[this.type]||0)+1}remove(){R[this.type]-=1,f(this.target,this.type,this.__l,this.options),super.remove()}get target(){return this.ownerElement}get type(){return this.trigger}run(t){eventLoop.dispatch(t,this)}}class l extends L{get register(){var c,b;let t=this.target.triggers;return t||Object.defineProperty(this.target,"triggers",{value:t={}}),(b=t[c=this.trigger])!=null?b:t[c]=DoubleDots.AttrWeakSet()}get target(){return window}upgrade(){super.upgrade(),this.register.add(this)}remove(){this.register.delete(this),super.remove()}run(t){u.call(t),eventLoop.dispatchBatch(t,this.register)}}class g extends e{upgrade(){let t=new MutationObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:t}),this.observer.observe(this.target,this.settings)}remove(){this.observer.disconnect(),super.remove()}get target(){return this.ownerElement}get settings(){return{attributes:!0,attributesOldValue:!0}}run(t){for(let c of t)eventLoop.dispatch(c,this)}}class m extends e{upgrade(){let t=new ResizeObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:t}),this.observer.observe(this.ownerElement,this.settings)}remove(){this.observer.disconnect(),super.remove()}get settings(){return{box:this.trigger}}run(t){eventLoop.dispatch(t,this)}}class y extends e{upgrade(){let t=new IntersectionObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:t}),this.observer.observe(this.ownerElement,this.settings)}stop(){this.observer.disconnect()}remove(){this.stop(),super.remove()}run([t]){document.readyState==="complete"&&eventLoop.dispatch(t,this)}}Object.assign(window,{AttrListener:L,AttrListenerGlobal:l,AttrCustom:e,AttrImmutable:r,AttrUnknown:n,AttrMutation:g,AttrIntersection:y,AttrResize:m})})();(function(){var v,t,c,q,M,F,S,Z,tt,H,N,I,G,K,V;class e extends DoubleDots.DoubleDotsError{constructor(o,s,i,d){super(o),this.fullname=s,this.rule=i,this.RuleFun=d}}class r extends e{constructor(o){super(`Trigger name/prefix must begin with english letter or '_'.
${o} begins with '${o[0]}'.`)}static check(o){if(!o.match(/[a-z_].*/))throw new r(o)}}class n extends e{constructor(o){super(`DoubleDots definition names and rule prefixes can only contain /^[a-z0-9_.-]*$/: ${o}`)}static check(o){if(!o.match(/^[a-z0-9_\.-]*$/))throw new n(o)}}class u extends e{constructor(o,s,i,d){super(o,s,i,d),document.documentElement.dispatchEvent(new ErrorEvent(this))}}Object.assign(DoubleDots,{DefinitionError:e,TriggerNameError:r,DefinitionNameError:n,AsyncDefinitionError:u});class h{constructor(){O(this,c);O(this,M);O(this,v,{});O(this,t,{})}defineRule(o,s){n.check(o);for(let i of Object.keys(a(this,t)))if(i.startsWith(o)||o.startsWith(i))throw new e(`rule/rule conflict: trying to add '${o}' when '${i}' exists.`);for(let i of Object.keys(a(this,v)))if(i.startsWith(o))throw new e(`rule/name conflict: trying to add '${o}' when '${i}' exists.`);a(this,t)[o]=s,s instanceof Promise&&s.then(i=>a(this,t)[o]=i).catch(i=>a(this,t)[o]=new u(i,null,o))}define(o,s){if(n.check(o),o in a(this,v))throw new e(`name/name conflict: '${o}' already exists.`);for(let i of Object.keys(a(this,t)))if(o.startsWith(i))throw new e(`name/rule conflict: trying to add '${o}' when rule '${i}' exists.`);a(this,v)[o]=s,s instanceof Promise&&s.then(i=>a(this,v)[o]=i).catch(i=>a(this,v)[o]=new u(i,o))}get(o){return a(this,v)[o]||j(this,M,F).call(this,o)}}v=new WeakMap,t=new WeakMap,c=new WeakSet,q=function(o,s,i){if(i instanceof Promise)return a(this,v)[o]=i.then(d=>(i=d)(o)).catch(d=>new u(d,null,s,null)).then(d=>a(this,v)[o]=d).catch(d=>a(this,v)[o]=new u(d,o,s,i));try{if(i instanceof Error)throw i;let d=a(this,v)[o]=i(o);return d instanceof Promise&&d.then(T=>a(this,v)[o]=T).catch(T=>a(this,v)[o]=new u(T,o,s,i)),d}catch(d){return a(this,v)[o]=new e(d,o,s,i)}},M=new WeakSet,F=function(o){for(let[s,i]of Object.entries(a(this,t)))if(o.startsWith(s))return j(this,c,q).call(this,o,s,i)};class f extends Promise{static make(o){let s,i,d=new f((T,_)=>{s=T,i=_});return Object.assign(d,{resolve:s,reject:i,attr:o})}}class R{constructor(){O(this,Z);C(this,"unknowns",{});O(this,S,void 0)}make(o,s){var d,T;let i=f.make(s);return((T=(d=this.unknowns)[o])!=null?T:d[o]=[]).push(i),i.catch(_=>this.remove(o,i)),a(this,S)||j(this,Z,tt).call(this),i}remove(o,s){let i=this.unknowns[o];if(!i)return;let d=i.indexOf(s);d<0||(i.splice(d,1),!i.length&&delete this.unknowns[o])}complete(o){let s=this.unknowns[o];delete this.unknowns[o];for(let i of s||[])try{i.resolve()}catch(d){}}completeRule(o){for(let s in this.unknowns)s.startsWith(o)&&this.complete(s)}}S=new WeakMap,Z=new WeakSet,tt=async function(){for(k(this,S,!0);;){await new Promise(s=>setTimeout(s,1e4));let o=Object.entries(this.unknowns);if(!o.length)return k(this,S,!1);for(let[s,i]of o)for(let d of i.filter(T=>!T.attr.isConnected))this.remove(s,d)}};class L extends h{constructor(){super(...arguments);O(this,H,new R)}define(s,i){super.define(s,i),a(this,H).complete(s)}defineRule(s,i){super.defineRule(s,i),a(this,H).completeRule(s)}get(s,i){var d;return(d=super.get(s))!=null?d:a(this,H).make(s,i)}}H=new WeakMap;class l extends L{constructor(){super(...arguments);O(this,N,void 0)}defineRule(s,i){if(a(this,N))throw new e("ShadowRoot too-late definition error for rule: "+s);return super.defineRule(s,i)}define(s,i){if(a(this,N))throw new e("ShadowRoot too-late definition error for definition: "+s);return super.define(s,i)}get(s){return k(this,N,!0),super.get(s)}}N=new WeakMap;class g extends l{constructor(s,i){super();O(this,I,void 0);O(this,G,void 0);k(this,I,s),k(this,G,i)}get root(){return a(this,I)}get type(){return a(this,G)}get parentMap(){var s,i;return(i=(s=this.root.host)==null?void 0:s.getRootNode())==null?void 0:i[this.type]}get(s){return super.get(s)||this.parentMap.get(s)}}I=new WeakMap,G=new WeakMap;class m extends g{constructor(){super(...arguments);O(this,K,{});O(this,V,void 0)}get rule(){var s;return(s=a(this,V))!=null?s:k(this,V,`^(${this.root.host.getAttribute("override-"+this.type.toLowercase())})`)}overrides(s){var i,d,T,_;return(_=(T=a(this,K))[s])!=null?_:T[s]=((d=(i=this.parentMap)==null?void 0:i.overrides)==null?void 0:d.call(i,s))||this.rule.matches(s)&&this.parentMap}get(s){let i=this.overrides(s);return i?i.get(s):super.get(s)}}K=new WeakMap,V=new WeakMap;function y(D){return class extends D{defineRule(s,i){r.check(s),super.defineRule(s,i)}define(s,i){r.check(s),super.define(s,i)}}}function p(D){return class extends D{define(s,i){DoubleDots.ThisArrowFunctionError.check(i),super.define(s,i)}}}Object.defineProperties(Document.prototype,{Reactions:{get:function(){let D=new L;return Object.defineProperty(this,"Reactions",{value:D,enumerable:!0}),D}},Triggers:{configurable:!0,get:function(){let D=y(L),o=new D;return Object.defineProperty(this,"Triggers",{value:o,enumerable:!0}),o}}}),Object.defineProperties(ShadowRoot.prototype,{Reactions:{configurable:!0,get:function(){let D=new m(this,"Reactions");return Object.defineProperty(this,"Reactions",{value:D,enumerable:!0}),D}},Triggers:{configurable:!0,get:function(){let D=y(m),o=new D(this,"Triggers");return Object.defineProperty(this,"Triggers",{value:o,enumerable:!0}),o}}});class w{constructor(o,s,i){this.url=o,this.name=s,this.fullname=DoubleDots.pascalToKebab(DoubleDots.pascalToCamel(s)),this.value=i||"",this.type=/^_*[A-Z]/.test(s)?"Triggers":"Reactions",this.rule=/[\._-]$/.test(s)?"defineRule":"define"}async getDefinition(){let o=await import(this.url);if(!o||typeof o!="object"&&!(o instanceof Object))throw new TypeError(`URL is not an es6 module: ${this.url}`);let s=this.value||this.name,i=o[s];if(i)return i;for(let[d,T]of Object.entries(o))if(d.startsWith("dynamic")&&T[s])return T[s];throw new TypeError(`ES6 module doesn't contain resource: ${s}`)}static*parse(o){var d,T;let s=(o.hash||o.search).slice(1);if(!s)throw DoubleDots.SyntaxError("DoubleDots.Reference not in url: "+o);let i=(T=(d=s.entries)==null?void 0:d.call(s))!=null?T:s.split("&").map(_=>_.split("="));for(let[_,rt]of i)yield new w(o,_,rt)}}async function E(D,o){for(let s of w.parse(D))o[s.type][s.rule](s.fullname,s.getDefinition())}Object.assign(DoubleDots,{DefinitionsMap:h,DefinitionsMapLock:l,DefinitionsMapDOM:g,DefinitionsMapDOMOverride:m,UnknownDefinitionsMap:L,UnknownDefinition:f,Reference:w,define:E})})();(function(){var h,f,R,L,l,W,m,J,p,w,E;let e=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=function(...t){var c;return((c=t[0])!=null?c:t[0]={}).mode="open",e.apply(this,t)},Event.data=Symbol("Event data");class r extends DoubleDots.DoubleDotsError{}DoubleDots.EventLoopError=r;class n{constructor(t,c){O(this,l);O(this,m);O(this,h,0);O(this,f,void 0);O(this,R,void 0);O(this,L,void 0);var b;this.at=c,this.event=t,k(this,f,this.at.reactions),k(this,R,[(b=t[Event.data])!=null?b:t]),k(this,L,[])}isConnected(){return this.at.isConnected()}getReaction(){return a(this,h)<a(this,f).length?a(this,f)[a(this,h)]:void 0}getReactionIndex(){return a(this,h)<a(this,f).length?a(this,h):-1}nextReaction(){return this.getReaction()}run(t=!1){for(let c=this.getReaction();c!==void 0;c=this.nextReaction()){if(c===""){t=!0,j(this,m,J).call(this,a(this,R)[a(this,h)]);continue}if(!c.startsWith("catch"))try{if(!this.at.isConnected)throw new r("Disconnected: "+this.at);let b=this.at.getRootNode().Reactions.get(c,this.at);if(b instanceof Error)throw b;if(b instanceof Promise)if(t){b.then(P=>__eventLoop.asyncContinue(this));return}else return b instanceof DoubleDots.UnknownDefinition?j(this,l,W).call(this,new r("Reaction not found: "+c)):(b.then(P=>__eventLoop.syncContinue()),this);let M=a(this,L)[a(this,h)]=b.apply(this.at,a(this,R).slice().reverse());if(M instanceof Promise)if(t){M.then(P=>j(this,m,J).call(this,P)).catch(P=>j(this,l,W).call(this,P)).finally(P=>__eventLoop.asyncContinue(this));return}else return M.then(P=>j(this,m,J).call(this,P)).catch(P=>j(this,l,W).call(this,P)).finally(P=>__eventLoop.syncContinue()),this;j(this,m,J).call(this,M)}catch(b){j(this,l,W).call(this,b)}}}}h=new WeakMap,f=new WeakMap,R=new WeakMap,L=new WeakMap,l=new WeakSet,W=function(t){console.error(t),a(this,L)[a(this,h)]=t;let c="catch_"+t.constructor.name.replace(/[A-Z]/g,"-$&").toLowerCase();for(Q(this,h)._++;a(this,h)<a(this,f).length;Q(this,h)._++)if(a(this,f)[a(this,h)]==="catch"||a(this,f)[a(this,h)]===c)return;(this.at.isConnected?this.at.ownerElement:document.documentElement).dispatchEvent(new ErrorEvent("error",{error:t}))},m=new WeakSet,J=function(t){if(a(this,L)[a(this,h)]=t,t===EventLoop.Break)k(this,h,a(this,f).length);else if(t instanceof EventLoop.ReactionJump){let c=a(this,h)+t.value;a(this,R)[c]=a(this,R)[a(this,h)],k(this,h,c)}else{let c=a(this,h)+1;a(this,R)[c]=t,k(this,h,c)}};class u{constructor(){O(this,p,[]);O(this,w,[]);C(this,"task")}syncContinue(){(this.task=this.task.run())||this.loop()}asyncContinue(t){(this.task=t).run(!0)}loop(){for(;a(this,p)[0];){let{event:t,iterator:c}=a(this,p)[0];for(let b of c)if(this.task=new n(t,b),a(this,w).push(this.task),this.task=this.task.run())return;a(this,p).shift()}}batch(t,c){let b=c[Symbol.iterator]();a(this,p).push({event:t,iterator:b})===1&&this.loop()}}p=new WeakMap,w=new WeakMap,__eventLoop=new u,window.EventLoop=(E=class{get event(){var t;return(t=__eventLoop.task)==null?void 0:t.event}get attribute(){var t;return(t=__eventLoop.task)==null?void 0:t.at}get reaction(){var t;return(t=__eventLoop.task)==null?void 0:t.getReaction()}get reactionIndex(){var t;return(t=__eventLoop.task)==null?void 0:t.getReactionIndex()}dispatch(t,c){__eventLoop.batch(t,[c])}dispatchBatch(t,c){__eventLoop.batch(t,c)}},C(E,"ReactionJump",class{constructor(c){if(c=parseInt(c),!c||isNaN(c))throw new DoubleDotsErrorEvent("ReactionJump must be done using a positive or negative integer.");this.value=c}}),C(E,"Break",{}),C(E,"ReactionOrigin",class{constructor(c){if(!c||!(c instanceof Object))throw new DoubleDotsErrorEvent("ReactionOrigin must be an object not null.");this.value=c}}),C(E,"SpreadReaction",function(t){return function(b){return b instanceof Iterable?t.call(this,...b):t.call(this,b)}}),E),Object.defineProperty(window,"eventLoop",{value:new EventLoop})})();var Dt={cloneNode:[Node.prototype,DocumentFragment.prototype],innerHTML:[Element.prototype,HTMLTemplateElement.prototype],insertAdjacentHTML:[Element.prototype,HTMLTemplateElement.prototype]};for(let[e,[r,n]]of Object.entries(Dt))Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e));function et(e,r,n){let u=Object.getOwnPropertyDescriptor(e,r);u.set=n,Object.defineProperty(e,r,u)}function nt(e,r,n){let u=Object.getOwnPropertyDescriptor(e,r);u.value=n,Object.defineProperty(e,r,u)}(function(e,r){let n=Object.getOwnPropertyDescriptor(e,"innerHTML").set,u=function(p){n.call(this,p),AttrCustom.upgradeBranch(...this.children)},h=Object.getOwnPropertyDescriptor(r,"innerHTML").set,f=function(p){h.call(this,p),AttrCustom.upgradeBranch(...this.children)},R=e.insertAdjacentHTML;function L(y,...p){let w,E;y==="afterbegin"?(w=this,E=0):y==="beforeend"?(w=this,E=this.children.length):y==="beforebegin"?(w=this.parentNode,E=Array.prototype.indexOf.call(w.children,this)):y==="afterend"&&(w=this.parentNode,E=Array.prototype.indexOf.call(w.children,this)+1);let v=w.children.length;R.call(this,y,...p);let t=w.children.length-v,c=Array.from(w.children).slice(E,E+t);AttrCustom.upgradeBranch(...c)}let l=e.setAttribute,g=e.getAttributeNode;function m(y,p){if(y.startsWith("override-"))throw new SyntaxError("You can only set [override-xyz] attributes on elements in HTML template: "+y);if(!y.includes(":"))return l.call(this,y,p);let w=g.call(this,y);if(w){w.value!==p&&(w.value=p);return}l.call(this,y,p),w=g.call(this,y),AttrCustom.upgrade(w)}et(e,"innerHTML",u),et(r,"innerHTML",f),nt(e,"insertAdjacentHTML",L),nt(e,"setAttribute",m)})(Element.prototype,ShadowRoot.prototype);(function(){function e(l,g,m=l.getRootNode(),y=g==null?void 0:g.getRootNode()){if(!(g instanceof Element)||y===m||y instanceof DocumentFragment&&m instanceof DocumentFragment)return!1;if(l.isConnected&&y instanceof DocumentFragment)return!0;throw new DoubleDots.InsertElementFromJSError(l,g)}let r=[];function n(l){return e(this,l)?[l]:r}function u(l,g){return e(this,g)?[g]:r}function h(...l){let g=this.getRootNode();return l.filter(m=>e(this,m,g))}let f={"Element.prototype":{appendChild:n,insertBefore:n,append:h,prepend:h,insertAdjacentElement:u},"Document.prototype":{appendChild:n,insertBefore:n,append:h,prepend:h},"DocumentFragment.prototype":{appendChild:n,insertBefore:n,append:h,prepend:h}};function R(l,g,m){Object.defineProperty(l,g,{...Object.getOwnPropertyDescriptor(l,g),value:m})}function L(l,g){return function(...m){let y=g.call(this,...m),p=l.apply(this,m);return y.length&&AttrCustom.upgradeBranch(...y),p}}for(let[l,g]of Object.entries(f)){l=l.split(".");let m=l.reduce((p,w)=>p[w],window),y=l.reduce((p,w)=>{var E;return(E=p[w])!=null?E:p[w]={}},DoubleDots.nativeMethods);for(let[p,w]of Object.entries(g)){let E=y[p]=m[p],v=L(E,w);R(m,p,v)}}})();(function(){function e(){let n=this.ownerElement.getAttribute("src"),u=n?new URL(n,location):location;DoubleDots.define(new URL(this.value,u),this.ownerDocument)}class r extends AttrCustom{upgrade(){eventLoop.dispatch(new Event(this.trigger),this)}}document.Reactions.define("define",e),document.Triggers.define("_",r)})();(function(){let e=new WeakMap;class r extends AttrCustom{upgrade(){let f=document.createElement("template");f.innerHTML=this.ownerElement.innerHTML,e.set(this.ownerElement,f.content),this.ownerElement.textContent=""}}class n extends AttrCustom{upgrade(){let f=document.createDocumentFragment();f.append(...this.ownerElement.childNodes),e.set(this.ownerElement,f),this.ownerElement.textContent=""}}function u(){return e.get(this.ownerElement)}document.Triggers.define("_t",r),document.Triggers.define("_tt",n),document.Reactions.define("_t",u)})();(function(e){if(document.readyState!=="loading")return AttrCustom.upgradeBranch(document.htmlElement);e.call(document,"DOMContentLoaded",r=>AttrCustom.upgradeBranch(document.documentElement))})(EventTarget.prototype.addEventListener);})();
//# sourceMappingURL=dd.js.map

(()=>{var Ae=Object.defineProperty;var $e=(s,e,t)=>e in s?Ae(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var R=(s,e,t)=>($e(s,typeof e!="symbol"?e+"":e,t),t),fe=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var r=(s,e,t)=>(fe(s,e,"read from private field"),t?t.call(s):e.get(s)),h=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},g=(s,e,t,n)=>(fe(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),ge=(s,e,t,n)=>({set _(o){g(s,e,o,t)},get _(){return r(s,e,n)}}),b=(s,e,t)=>(fe(s,e,"access private method"),t);var Ne=document.createElement,Be=EventTarget.prototype.addEventListener,Ge=setInterval,Ie=setTimeout;async function Ue(s){return await new Promise(e=>Ie(e,s))}function ze(s){let e=Ne.call(document,"audio");Be.call(e,"ratechange",s),e.playbackRate=2}var $,N,y=class extends Set{static gc(){let e,t;for(let n of r(y,$))if(t=n.deref())for(let o of t)o.isConnected?e=!0:(t.delete(o),o.remove());else r(y,$).delete(n);!e&&g(y,N,clearInterval(r(y,N)))}constructor(...e){super(...e),r(y,$).add(new WeakRef(this))}add(e){var t;(t=r(y,N))!=null||g(y,N,Ge(y.gc,y.GC)),super.add(e)}},A=y;$=new WeakMap,N=new WeakMap,h(A,$,new Set),h(A,N,void 0),R(A,"GC",1e4);var We=function(){function s(c){return Object.keys(c).filter(f=>f.startsWith("on")).map(f=>f.substring(2).toLowerCase())}let e=s(Element.prototype),t=s(HTMLElement.prototype),n=s(window),o=s(Document.prototype),i=[...e,...t].filter((c,f,u)=>u.indexOf(c)===f),m=n.filter(c=>!i.includes(c)),x=o.filter(c=>!i.includes(c)&&!m.includes(c)),a={element:i,window:m,document:x};return a.element.push("touchstart","touchmove","touchend","touchcancel"),a.document.push("DOMContentLoaded"),Object.values(a).forEach(Object.freeze),Object.freeze(a),a}();function Je(s){return s.replace(/-[a-z]/g,e=>e[1].toUpperCase())}function Ze(s){return s.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}function Ke(s){return s.replace(/^(_*)([A-Z])/,(e,t,n)=>t+n.toLowerCase())}async function Ve(s){s="export default "+s.trim();let e=new Blob([s],{type:"application/javascript"}),t=URL.createObjectURL(e),n=await import(t);return URL.revokeObjectURL(t),n.default}function Ye(s){let[e,...t]=s.split("_");for(let n=0;n<=t.length-1;n+=2){let o=t[n].replaceAll("..","\\:"),i=n<=t.length?`$="${t[n+1]}"`:"";e+=`[${o}${i}]`}return e}function*Qe(s,e="*"){for(let t=s.parentElement;t;t=t.parentElement)(e==="*"||t.matches(e))&&(yield t)}function*Xe(s,e="*"){for(let t=s.previousElementSibling;t;t=t.previousElementSibling)(e==="*"||t.matches(e))&&(yield t)}function*qe(s,e="*"){for(let t=s.nextElementSibling;t;t=t.nextElementSibling)(e==="*"||t.matches(e))&&(yield t)}function*Fe(s){var e;for(let t=s.getRootNode();t;t=(e=t.host)==null?void 0:e.getRootNode())yield t}function*et(s,e="*"){for(let t=s.getRootNode().host;t;t=t.getRootNode().host)(e==="*"||t.matches(e))&&(yield t)}function*tt(s,e="*"){for(let t,n=[...s.children];t=n.shift();n.push(...s.children))(e==="*"||t.matches(e))&&(yield t)}var D=class extends Error{constructor(e,t){super(e)}},K=class extends D{constructor(e){super("arrow function with `this`.")}static check(e){let t=e.toString();if(/^(async\s+|)(\(|[^([]+=)/.test(t)&&(t=t.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,""),t=t.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,""),t=t.replace(/(`)(?:(?=(\\?))\2.)*?\1/g,""),/\bthis\b/.test(t)))throw new K(e)}};window.DoubleDots={nativeMethods:{},DoubleDotsError:D,ThisArrowFunctionError:K,DeprecationError:class extends D{},MissingReaction:class extends D{},DisconnectedError:class extends D{},TriggerUpgradeError:class extends D{constructor(e,t){super(e)}},AttrWeakSet:A,nextTick:ze,sleep:Ue,nativeEvents:We,kebabToPascal:Je,pascalToKebab:Ze,pascalToCamel:Ke,up:Qe,left:Xe,right:qe,roots:Fe,hosts:et,downwide:tt,importBasedEval:Ve,miniQuerySelector:Ye};var V,me,B=class extends Attr{get trigger(){var e;return b(e=B,V,me).call(e,this),this.trigger}get reactions(){var e;return b(e=B,V,me).call(e,this),this.reactions}isConnected(){return this.ownerElement.isConnected()}getRootNode(...e){var t;return(t=this.ownerElement)==null?void 0:t.getRootNode(...e)}remove(){return this.ownerElement.removeAttribute(this.name)}dispatchEvent(e){if(!this.isConnected)throw new DoubleDots.ReactionError("dispatch on disconnected attribute.");eventLoop.dispatch(e,this)}static upgradeBranch(...e){for(let t of e)if(t instanceof Element)this.upgradeElementRoot(t);else if(t instanceof DocumentFragment)for(let n of t.children)this.upgradeElementRoot(n)}static upgradeElementRoot(e){for(let t of e.attributes)t.name.includes(":")&&B.upgrade(t);for(let t of e.children)this.upgradeElementRoot(t)}static upgrade(e,t){var n;if(t!=null||(t=e.ownerElement.getRootNode().Triggers.get(e.name.split(":")[0],e)),t instanceof Error)throw t;if(t instanceof Promise){Object.setPrototypeOf(e,ne.prototype),t.then(o=>B.upgrade(e,o));return}try{Object.setPrototypeOf(e,t.prototype),(n=e.upgrade)==null||n.call(e),e.value&&(e.value=e.value)}catch(o){throw new DoubleDots.TriggerUpgradeError(t.name+".upgrade() caused an error. Triggers shouldn't cause errors.")}}},L=B;V=new WeakSet,me=function(e){let[t,...n]=e.name.split(":");n.length===1&&!n[0]&&n.pop(),Object.defineProperties(e,{trigger:{value:t,enumerable:!0},reactions:{value:n,enumerable:!0}})},h(L,V);var be=class extends L{remove(){}},ne=class extends L{},nt=Event.prototype.stopImmediatePropagation,st=EventTarget.prototype.addEventListener,rt=EventTarget.prototype.removeEventListener,te={};Object.defineProperty(Event,"activeListeners",{enumerable:!0,value:function(e){return te[e]}});var se=class extends L{upgrade(){Object.defineProperty(this,"__l",{value:this.run.bind(this)}),st.call(this.target,this.type,this.__l,this.options),te[this.type]=(te[this.type]||0)+1}remove(){te[this.type]-=1,rt(this.target,this.type,this.__l,this.options),super.remove()}get target(){return this.ownerElement}get type(){return this.trigger}run(e){eventLoop.dispatch(e,this)}},we=class extends se{get register(){var t,n;let e=this.target.triggers;return e||Object.defineProperty(this.target,"triggers",{value:e={}}),(n=e[t=this.trigger])!=null?n:e[t]=DoubleDots.AttrWeakSet()}get target(){return window}upgrade(){super.upgrade(),this.register.add(this)}remove(){this.register.delete(this),super.remove()}run(e){nt.call(e),eventLoop.dispatchBatch(e,this.register)}},ve=class extends L{upgrade(){let e=new MutationObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.target,this.settings)}remove(){this.observer.disconnect(),super.remove()}get target(){return this.ownerElement}get settings(){return{attributes:!0,attributesOldValue:!0}}run(e){for(let t of e)eventLoop.dispatch(t,this)}},ye=class extends L{upgrade(){let e=new ResizeObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.ownerElement,this.settings)}remove(){this.observer.disconnect(),super.remove()}get settings(){return{box:this.trigger}}run(e){eventLoop.dispatch(e,this)}},Ee=class extends L{upgrade(){let e=new IntersectionObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.ownerElement,this.settings)}stop(){this.observer.disconnect()}remove(){this.stop(),super.remove()}run([e]){document.readyState==="complete"&&eventLoop.dispatch(e,this)}};Object.assign(window,{AttrListener:se,AttrListenerGlobal:we,AttrCustom:L,AttrImmutable:be,AttrUnknown:ne,AttrMutation:ve,AttrIntersection:Ee,AttrResize:ye});var v=class extends DoubleDots.DoubleDotsError{constructor(e,t,n,o){super(e),this.fullname=t,this.rule=n,this.RuleFun=o}},C=class extends v{constructor(e){super(`Trigger name/prefix must begin with english letter or '_'.
${e} begins with '${e[0]}'.`)}static check(e){if(!e.match(/[a-z_].*/))throw new C(e)}},P=class extends v{constructor(e){super(`DoubleDots definition names and rule prefixes can only contain /^[a-z0-9_.-]*$/: ${e}`)}static check(e){if(!e.match(/^[a-z0-9_\.-]*$/))throw new P(e)}},k=class extends v{constructor(e,t,n,o){super(e,t,n,o),document.documentElement.dispatchEvent(new ErrorEvent(this))}};Object.assign(DoubleDots,{DefinitionError:v,TriggerNameError:C,DefinitionNameError:P,AsyncDefinitionError:k});var w,T,ce,ke,ae,xe,re=class{constructor(){h(this,ce);h(this,ae);h(this,w,{});h(this,T,{})}defineRule(e,t){P.check(e);for(let n of Object.keys(r(this,T)))if(n.startsWith(e)||e.startsWith(n))throw new v(`rule/rule conflict: trying to add '${e}' when '${n}' exists.`);for(let n of Object.keys(r(this,w)))if(n.startsWith(e))throw new v(`rule/name conflict: trying to add '${e}' when '${n}' exists.`);r(this,T)[e]=t,t instanceof Promise&&t.then(n=>r(this,T)[e]=n).catch(n=>r(this,T)[e]=new k(n,null,e))}define(e,t){if(P.check(e),e in r(this,w))throw new v(`name/name conflict: '${e}' already exists.`);for(let n of Object.keys(r(this,T)))if(e.startsWith(n))throw new v(`name/rule conflict: trying to add '${e}' when rule '${n}' exists.`);r(this,w)[e]=t,t instanceof Promise&&t.then(n=>r(this,w)[e]=n).catch(n=>r(this,w)[e]=new k(n,e))}get(e){return r(this,w)[e]||b(this,ae,xe).call(this,e)}};w=new WeakMap,T=new WeakMap,ce=new WeakSet,ke=function(e,t,n){if(n instanceof Promise)return r(this,w)[e]=n.then(o=>(n=o)(e)).catch(o=>new k(o,null,t,null)).then(o=>r(this,w)[e]=o).catch(o=>r(this,w)[e]=new k(o,e,t,n));try{if(n instanceof Error)throw n;let o=r(this,w)[e]=n(e);return o instanceof Promise&&o.then(i=>r(this,w)[e]=i).catch(i=>r(this,w)[e]=new k(i,e,t,n)),o}catch(o){return r(this,w)[e]=new v(o,e,t,n)}},ae=new WeakSet,xe=function(e){for(let[t,n]of Object.entries(r(this,T)))if(e.startsWith(t))return b(this,ce,ke).call(this,e,t,n)};var z=class extends Promise{static make(e){let t,n,o=new z((i,m)=>{t=i,n=m});return Object.assign(o,{resolve:t,reject:n,attr:e})}},G,he,Ce,Oe=class{constructor(){h(this,he);R(this,"unknowns",{});h(this,G,void 0)}make(e,t){var o,i;let n=z.make(t);return((i=(o=this.unknowns)[e])!=null?i:o[e]=[]).push(n),n.catch(m=>this.remove(e,n)),r(this,G)||b(this,he,Ce).call(this),n}remove(e,t){let n=this.unknowns[e];if(!n)return;let o=n.indexOf(t);o<0||(n.splice(o,1),!n.length&&delete this.unknowns[e])}complete(e){let t=this.unknowns[e];delete this.unknowns[e];for(let n of t||[])try{n.resolve()}catch(o){}}completeRule(e){for(let t in this.unknowns)t.startsWith(e)&&this.complete(t)}};G=new WeakMap,he=new WeakSet,Ce=async function(){for(g(this,G,!0);;){await new Promise(t=>setTimeout(t,1e4));let e=Object.entries(this.unknowns);if(!e.length)return g(this,G,!1);for(let[t,n]of e)for(let o of n.filter(i=>!i.attr.isConnected))this.remove(t,o)}};var I,W=class extends re{constructor(){super(...arguments);h(this,I,new Oe)}define(t,n){super.define(t,n),r(this,I).complete(t)}defineRule(t,n){super.defineRule(t,n),r(this,I).completeRule(t)}get(t,n){var o;return(o=super.get(t))!=null?o:r(this,I).make(t,n)}};I=new WeakMap;var U,oe=class extends W{constructor(){super(...arguments);h(this,U,void 0)}defineRule(t,n){if(r(this,U))throw new v("ShadowRoot too-late definition error for rule: "+t);return super.defineRule(t,n)}define(t,n){if(r(this,U))throw new v("ShadowRoot too-late definition error for definition: "+t);return super.define(t,n)}get(t){return g(this,U,!0),super.get(t)}};U=new WeakMap;var Q,X,ie=class extends oe{constructor(t,n){super();h(this,Q,void 0);h(this,X,void 0);g(this,Q,t),g(this,X,n)}get root(){return r(this,Q)}get type(){return r(this,X)}get parentMap(){var t,n;return(n=(t=this.root.host)==null?void 0:t.getRootNode())==null?void 0:n[this.type]}get(t){return super.get(t)||this.parentMap.get(t)}};Q=new WeakMap,X=new WeakMap;var ue,le,Y=class extends ie{constructor(){super(...arguments);h(this,ue,{});h(this,le,void 0)}get rule(){var t;return(t=r(this,le))!=null?t:g(this,le,`^(${this.root.host.getAttribute("override-"+this.type.toLowercase())})`)}overrides(t){var n,o,i,m;return(m=(i=r(this,ue))[t])!=null?m:i[t]=((o=(n=this.parentMap)==null?void 0:n.overrides)==null?void 0:o.call(n,t))||this.rule.matches(t)&&this.parentMap}get(t){let n=this.overrides(t);return n?n.get(t):super.get(t)}};ue=new WeakMap,le=new WeakMap;function Pe(s){return class extends s{defineRule(t,n){C.check(t),super.defineRule(t,n)}define(t,n){C.check(t),super.define(t,n)}}}Object.defineProperties(Document.prototype,{Reactions:{get:function(){let s=new W;return Object.defineProperty(this,"Reactions",{value:s,enumerable:!0}),s}},Triggers:{configurable:!0,get:function(){let s=Pe(W),e=new s;return Object.defineProperty(this,"Triggers",{value:e,enumerable:!0}),e}}});Object.defineProperties(ShadowRoot.prototype,{Reactions:{configurable:!0,get:function(){let s=new Y(this,"Reactions");return Object.defineProperty(this,"Reactions",{value:s,enumerable:!0}),s}},Triggers:{configurable:!0,get:function(){let s=Pe(Y),e=new s(this,"Triggers");return Object.defineProperty(this,"Triggers",{value:e,enumerable:!0}),e}}});var J=class{constructor(e,t,n){this.url=e,this.name=t,this.fullname=DoubleDots.pascalToKebab(DoubleDots.pascalToCamel(t)),this.value=n||"",this.type=/^_*[A-Z]/.test(t)?"Triggers":"Reactions",this.rule=/[\._-]$/.test(t)?"defineRule":"define"}async getDefinition(){let e=await import(this.url);if(!e||typeof e!="object"&&!(e instanceof Object))throw new TypeError(`URL is not an es6 module: ${this.url}`);let t=this.value||this.name,n=e[t];if(n)return n;for(let[o,i]of Object.entries(e))if(o.startsWith("dynamic")&&i[t])return i[t];throw new TypeError(`ES6 module doesn't contain resource: ${t}`)}static*parse(e){var o,i;let t=(e.hash||e.search).slice(1);if(!t)throw DoubleDots.SyntaxError("DoubleDots.Reference not in url: "+e);let n=(i=(o=t.entries)==null?void 0:o.call(t))!=null?i:t.split("&").map(m=>m.split("="));for(let[m,x]of n)yield new J(e,m,x)}};async function ot(s,e){for(let t of J.parse(s))e[t.type][t.rule](t.fullname,t.getDefinition())}Object.assign(DoubleDots,{DefinitionsMap:re,DefinitionsMapLock:oe,DefinitionsMapDOM:ie,DefinitionsMapDOMOverride:Y,UnknownDefinitionsMap:W,UnknownDefinition:z,Reference:J,define:ot});var it=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=function(...e){var t;return((t=e[0])!=null?t:e[0]={}).mode="open",it.apply(this,e)};Event.data=Symbol("Event data");var ee=class extends DoubleDots.DoubleDotsError{};DoubleDots.EventLoopError=ee;var p,O,j,_,M,q,S,F,Re=class{constructor(e,t){h(this,M);h(this,S);h(this,p,0);h(this,O,void 0);h(this,j,void 0);h(this,_,void 0);var n;this.at=t,this.event=e,g(this,O,this.at.reactions),g(this,j,[(n=e[Event.data])!=null?n:e]),g(this,_,[])}isConnected(){return this.at.isConnected()}getReaction(){return r(this,p)<r(this,O).length?r(this,O)[r(this,p)]:void 0}getReactionIndex(){return r(this,p)<r(this,O).length?r(this,p):-1}nextReaction(){return this.getReaction()}run(e=!1){for(let t=this.getReaction();t!==void 0;t=this.nextReaction()){if(t===""){e=!0,b(this,S,F).call(this,r(this,j)[r(this,p)]);continue}if(!t.startsWith("catch"))try{if(!this.at.isConnected)throw new ee("Disconnected: "+this.at);let n=this.at.getRootNode().Reactions.get(t,this.at);if(n instanceof Error)throw n;if(n instanceof Promise)if(e){n.then(i=>__eventLoop.asyncContinue(this));return}else return n instanceof DoubleDots.UnknownDefinition?b(this,M,q).call(this,new ee("Reaction not found: "+t)):(n.then(i=>__eventLoop.syncContinue()),this);let o=r(this,_)[r(this,p)]=n.apply(this.at,r(this,j).slice().reverse());if(o instanceof Promise)if(e){o.then(i=>b(this,S,F).call(this,i)).catch(i=>b(this,M,q).call(this,i)).finally(i=>__eventLoop.asyncContinue(this));return}else return o.then(i=>b(this,S,F).call(this,i)).catch(i=>b(this,M,q).call(this,i)).finally(i=>__eventLoop.syncContinue()),this;b(this,S,F).call(this,o)}catch(n){b(this,M,q).call(this,n)}}}};p=new WeakMap,O=new WeakMap,j=new WeakMap,_=new WeakMap,M=new WeakSet,q=function(e){console.error(e),r(this,_)[r(this,p)]=e;let t="catch_"+e.constructor.name.replace(/[A-Z]/g,"-$&").toLowerCase();for(ge(this,p)._++;r(this,p)<r(this,O).length;ge(this,p)._++)if(r(this,O)[r(this,p)]==="catch"||r(this,O)[r(this,p)]===t)return;(this.at.isConnected?this.at.ownerElement:document.documentElement).dispatchEvent(new ErrorEvent("error",{error:e}))},S=new WeakSet,F=function(e){if(r(this,_)[r(this,p)]=e,e===EventLoop.Break)g(this,p,r(this,O).length);else if(e instanceof EventLoop.ReactionJump){let t=r(this,p)+e.value;r(this,j)[t]=r(this,j)[r(this,p)],g(this,p,t)}else{let t=r(this,p)+1;r(this,j)[t]=e,g(this,p,t)}};var H,de,Le=class{constructor(){h(this,H,[]);h(this,de,[]);R(this,"task")}syncContinue(){(this.task=this.task.run())||this.loop()}asyncContinue(e){(this.task=e).run(!0)}loop(){for(;r(this,H)[0];){let{event:e,iterator:t}=r(this,H)[0];for(let n of t)if(this.task=new Re(e,n),r(this,de).push(this.task),this.task=this.task.run())return;r(this,H).shift()}}batch(e,t){let n=t[Symbol.iterator]();r(this,H).push({event:e,iterator:n})===1&&this.loop()}};H=new WeakMap,de=new WeakMap;__eventLoop=new Le;var Z;window.EventLoop=(Z=class{get event(){var e;return(e=__eventLoop.task)==null?void 0:e.event}get attribute(){var e;return(e=__eventLoop.task)==null?void 0:e.at}get reaction(){var e;return(e=__eventLoop.task)==null?void 0:e.getReaction()}get reactionIndex(){var e;return(e=__eventLoop.task)==null?void 0:e.getReactionIndex()}dispatch(e,t){__eventLoop.batch(e,[t])}dispatchBatch(e,t){__eventLoop.batch(e,t)}},R(Z,"ReactionJump",class{constructor(t){if(t=parseInt(t),!t||isNaN(t))throw new DoubleDotsErrorEvent("ReactionJump must be done using a positive or negative integer.");this.value=t}}),R(Z,"Break",{}),R(Z,"ReactionOrigin",class{constructor(t){if(!t||!(t instanceof Object))throw new DoubleDotsErrorEvent("ReactionOrigin must be an object not null.");this.value=t}}),R(Z,"SpreadReaction",function(e){return function(n){return n instanceof Iterable?e.call(this,...n):e.call(this,n)}}),Z);Object.defineProperty(window,"eventLoop",{value:new EventLoop});var ct={cloneNode:[Node.prototype,DocumentFragment.prototype],innerHTML:[Element.prototype,HTMLTemplateElement.prototype],insertAdjacentHTML:[Element.prototype,HTMLTemplateElement.prototype]};for(let[s,[e,t]]of Object.entries(ct))Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s));function _e(s,e,t){let n=Object.getOwnPropertyDescriptor(s,e);n.set=t,Object.defineProperty(s,e,n)}function Me(s,e,t){let n=Object.getOwnPropertyDescriptor(s,e);n.value=t,Object.defineProperty(s,e,n)}(function(s,e){let t=Object.getOwnPropertyDescriptor(s,"innerHTML").set,n=function(d){t.call(this,d),AttrCustom.upgradeBranch(...this.children)},o=Object.getOwnPropertyDescriptor(e,"innerHTML").set,i=function(d){o.call(this,d),AttrCustom.upgradeBranch(...this.children)},m=s.insertAdjacentHTML;function x(u,...d){let l,E;u==="afterbegin"?(l=this,E=0):u==="beforeend"?(l=this,E=this.children.length):u==="beforebegin"?(l=this.parentNode,E=Array.prototype.indexOf.call(l.children,this)):u==="afterend"&&(l=this.parentNode,E=Array.prototype.indexOf.call(l.children,this)+1);let pe=l.children.length;m.call(this,u,...d);let Se=l.children.length-pe,He=Array.from(l.children).slice(E,E+Se);AttrCustom.upgradeBranch(...He)}let a=s.setAttribute,c=s.getAttributeNode;function f(u,d){if(u.startsWith("override-"))throw new SyntaxError("You can only set [override-xyz] attributes on elements in HTML template: "+u);if(!u.includes(":"))return a.call(this,u,d);let l=c.call(this,u);if(l){l.value!==d&&(l.value=d);return}a.call(this,u,d),l=c.call(this,u),AttrCustom.upgrade(l)}_e(s,"innerHTML",n),_e(e,"innerHTML",i),Me(s,"insertAdjacentHTML",x),Me(s,"setAttribute",f)})(Element.prototype,ShadowRoot.prototype);(function(){function s(a,c,f=a.getRootNode(),u=c==null?void 0:c.getRootNode()){if(!(c instanceof Element)||u===f||u instanceof DocumentFragment&&f instanceof DocumentFragment)return!1;if(a.isConnected&&u instanceof DocumentFragment)return!0;throw new DoubleDots.InsertElementFromJSError(a,c)}let e=[];function t(a){return s(this,a)?[a]:e}function n(a,c){return s(this,c)?[c]:e}function o(...a){let c=this.getRootNode();return a.filter(f=>s(this,f,c))}let i={"Element.prototype":{appendChild:t,insertBefore:t,append:o,prepend:o,insertAdjacentElement:n},"Document.prototype":{appendChild:t,insertBefore:t,append:o,prepend:o},"DocumentFragment.prototype":{appendChild:t,insertBefore:t,append:o,prepend:o}};function m(a,c,f){Object.defineProperty(a,c,{...Object.getOwnPropertyDescriptor(a,c),value:f})}function x(a,c){return function(...f){let u=c.call(this,...f),d=a.apply(this,f);return u.length&&AttrCustom.upgradeBranch(...u),d}}for(let[a,c]of Object.entries(i)){a=a.split(".");let f=a.reduce((d,l)=>d[l],window),u=a.reduce((d,l)=>{var E;return(E=d[l])!=null?E:d[l]={}},DoubleDots.nativeMethods);for(let[d,l]of Object.entries(c)){let E=u[d]=f[d],pe=x(E,l);m(f,d,pe)}}})();(function(){function s(){let t=this.ownerElement.getAttribute("src"),n=t?new URL(t,location):location;DoubleDots.define(new URL(this.value,n),this.ownerDocument)}class e extends AttrCustom{upgrade(){eventLoop.dispatch(new Event(this.trigger),this)}}document.Reactions.define("define",s),document.Triggers.define("_",e)})();var De=new WeakMap,Te=class extends AttrCustom{upgrade(){let e=document.createElement("template");e.innerHTML=this.ownerElement.innerHTML,De.set(this.ownerElement,e.content),this.ownerElement.textContent=""}},je=class extends AttrCustom{upgrade(){let e=document.createDocumentFragment();e.append(...this.ownerElement.childNodes),De.set(this.ownerElement,e),this.ownerElement.textContent=""}};function at(){return De.get(this.ownerElement)}document.Triggers.define("_t",Te);document.Triggers.define("_tt",je);document.Reactions.define("_t",at);(function(s){if(document.readyState!=="loading")return AttrCustom.upgradeBranch(document.htmlElement);s.call(document,"DOMContentLoaded",e=>AttrCustom.upgradeBranch(document.documentElement))})(EventTarget.prototype.addEventListener);})();
//# sourceMappingURL=dd.js.map

(()=>{var ge=Object.defineProperty;var me=(n,e,t)=>e in n?ge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var P=(n,e,t)=>(me(n,typeof e!="symbol"?e+"":e,t),t),te=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var i=(n,e,t)=>(te(n,e,"read from private field"),t?t.call(n):e.get(n)),v=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},j=(n,e,t,a)=>(te(n,e,"write to private field"),a?a.call(n,t):e.set(n,t),t),ne=(n,e,t,a)=>({set _(h){j(n,e,h,t)},get _(){return i(n,e,a)}}),k=(n,e,t)=>(te(n,e,"access private method"),t);var we=document.createElement,be=EventTarget.prototype.addEventListener,ve=setInterval,ye=setTimeout;async function Ee(n){return await new Promise(e=>ye(e,n))}function Oe(n){let e=we.call(document,"audio");be.call(e,"ratechange",n),e.playbackRate=2}var U,G,M=class extends Set{static gc(){let e,t;for(let a of i(M,U))if(t=a.deref())for(let h of t)h.isConnected?e=!0:(t.delete(h),h.remove());else i(M,U).delete(a);!e&&j(M,G,clearInterval(i(M,G)))}constructor(...e){super(...e),i(M,U).add(new WeakRef(this))}add(e){var t;(t=i(M,G))!=null||j(M,G,ve(M.gc,M.GC)),super.add(e)}},B=M;U=new WeakMap,G=new WeakMap,v(B,U,new Set),v(B,G,void 0),P(B,"GC",1e4);var Re=function(){function n(g){return Object.keys(g).filter(m=>m.startsWith("on")).map(m=>m.substring(2).toLowerCase())}let e=n(Element.prototype),t=n(HTMLElement.prototype),a=n(window),h=n(Document.prototype),f=[...e,...t].filter((g,m,b)=>b.indexOf(g)===m),L=a.filter(g=>!f.includes(g)),T=h.filter(g=>!f.includes(g)&&!L.includes(g)),l={element:f,window:L,document:T};return l.element.push("touchstart","touchmove","touchend","touchcancel"),l.document.push("DOMContentLoaded"),Object.values(l).forEach(Object.freeze),Object.freeze(l),l}();function De(n){return n.replace(/-[a-z]/g,e=>e[1].toUpperCase())}function Le(n){return n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}function Te(n){return n.replace(/^(_*)([A-Z])/,(e,t,a)=>t+a.toLowerCase())}async function je(n){n="export default "+n.trim();let e=new Blob([n],{type:"application/javascript"}),t=URL.createObjectURL(e),a=await import(t);return URL.revokeObjectURL(t),a.default}function ke(n){let[e,...t]=n.split("_");for(let a=0;a<=t.length-1;a+=2){let h=t[a].replaceAll("..","\\:"),f=a<=t.length?`$="${t[a+1]}"`:"";e+=`[${h}${f}]`}return e}function*Me(n,e="*"){for(let t=n.parentElement;t;t=t.parentElement)(e==="*"||t.matches(e))&&(yield t)}function*xe(n,e="*"){for(let t=n.previousElementSibling;t;t=t.previousElementSibling)(e==="*"||t.matches(e))&&(yield t)}function*Pe(n,e="*"){for(let t=n.nextElementSibling;t;t=t.nextElementSibling)(e==="*"||t.matches(e))&&(yield t)}function*Ce(n){var e;for(let t=n.getRootNode();t;t=(e=t.host)==null?void 0:e.getRootNode())yield t}function*_e(n,e="*"){for(let t=n.getRootNode().host;t;t=t.getRootNode().host)(e==="*"||t.matches(e))&&(yield t)}function*Ae(n,e="*"){for(let t,a=[...n.children];t=a.shift();a.push(...n.children))(e==="*"||t.matches(e))&&(yield t)}var S=class extends Error{constructor(e,t){super(e)}},J=class extends S{constructor(e){super("arrow function with `this`.")}static check(e){let t=e.toString();if(/^(async\s+|)(\(|[^([]+=)/.test(t)&&(t=t.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,""),t=t.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,""),t=t.replace(/(`)(?:(?=(\\?))\2.)*?\1/g,""),/\bthis\b/.test(t)))throw new J(e)}};window.DoubleDots={nativeMethods:{},DoubleDotsError:S,ThisArrowFunctionError:J,DeprecationError:class extends S{},MissingReaction:class extends S{},DisconnectedError:class extends S{},TriggerUpgradeError:class extends S{constructor(e,t){super(e)}},AttrWeakSet:B,nextTick:Oe,sleep:Ee,nativeEvents:Re,kebabToPascal:De,pascalToKebab:Le,pascalToCamel:Te,up:Me,left:xe,right:Pe,roots:Ce,hosts:_e,downwide:Ae,importBasedEval:je,miniQuerySelector:ke};var Z,re,I=class extends Attr{get trigger(){var e;return k(e=I,Z,re).call(e,this),this.trigger}get reactions(){var e;return k(e=I,Z,re).call(e,this),this.reactions}isConnected(){return this.ownerElement.isConnected()}getRootNode(...e){var t;return(t=this.ownerElement)==null?void 0:t.getRootNode(...e)}remove(){return this.ownerElement.removeAttribute(this.name)}dispatchEvent(e){if(!this.isConnected)throw new DoubleDots.ReactionError("dispatch on disconnected attribute.");eventLoop.dispatch(e,this)}static upgradeBranch(...e){for(let t of e)if(t instanceof Element)this.upgradeElementRoot(t);else if(t instanceof DocumentFragment)for(let a of t.children)this.upgradeElementRoot(a)}static upgradeElementRoot(e){for(let t of e.attributes)t.name.includes(":")&&I.upgrade(t);for(let t of e.children)this.upgradeElementRoot(t)}static upgrade(e,t){var a;if(t!=null||(t=e.ownerElement.getRootNode().Triggers.get(e.name.split(":")[0],e)),t instanceof Error)throw t;if(t instanceof Promise){Object.setPrototypeOf(e,F.prototype),t.then(h=>I.upgrade(e,h));return}try{Object.setPrototypeOf(e,t.prototype),(a=e.upgrade)==null||a.call(e),e.value&&(e.value=e.value)}catch(h){throw new DoubleDots.TriggerUpgradeError(t.name+".upgrade() caused an error. Triggers shouldn't cause errors.")}}},C=I;Z=new WeakSet,re=function(e){let[t,...a]=e.name.split(":");a.length===1&&!a[0]&&a.pop(),Object.defineProperties(e,{trigger:{value:t,enumerable:!0},reactions:{value:a,enumerable:!0}})},v(C,Z);var se=class extends C{remove(){}},F=class extends C{},Se=Event.prototype.stopImmediatePropagation,He=EventTarget.prototype.addEventListener,Ne=EventTarget.prototype.removeEventListener,q={};Object.defineProperty(Event,"activeListeners",{enumerable:!0,value:function(e){return q[e]}});var ee=class extends C{upgrade(){Object.defineProperty(this,"__l",{value:this.run.bind(this)}),He.call(this.target,this.type,this.__l,this.options),q[this.type]=(q[this.type]||0)+1}remove(){q[this.type]-=1,Ne(this.target,this.type,this.__l,this.options),super.remove()}get target(){return this.ownerElement}get type(){return this.trigger}run(e){eventLoop.dispatch(e,this)}},oe=class extends ee{get register(){var t,a;let e=this.target.triggers;return e||Object.defineProperty(this.target,"triggers",{value:e={}}),(a=e[t=this.trigger])!=null?a:e[t]=DoubleDots.AttrWeakSet()}get target(){return window}upgrade(){super.upgrade(),this.register.add(this)}remove(){this.register.delete(this),super.remove()}run(e){Se.call(e),eventLoop.dispatchBatch(e,this.register)}},ie=class extends C{upgrade(){let e=new MutationObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.target,this.settings)}remove(){this.observer.disconnect(),super.remove()}get target(){return this.ownerElement}get settings(){return{attributes:!0,attributesOldValue:!0}}run(e){for(let t of e)eventLoop.dispatch(t,this)}},ce=class extends C{upgrade(){let e=new ResizeObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.ownerElement,this.settings)}remove(){this.observer.disconnect(),super.remove()}get settings(){return{box:this.trigger}}run(e){eventLoop.dispatch(e,this)}},ae=class extends C{upgrade(){let e=new IntersectionObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.ownerElement,this.settings)}stop(){this.observer.disconnect()}remove(){this.stop(),super.remove()}run([e]){document.readyState==="complete"&&eventLoop.dispatch(e,this)}};Object.assign(window,{AttrListener:ee,AttrListenerGlobal:oe,AttrCustom:C,AttrImmutable:se,AttrUnknown:F,AttrMutation:ie,AttrIntersection:ae,AttrResize:ce});(function(){var y,c,u,he,_,ue,H,Y,le,N,$,z,W,Q,X;class n extends DoubleDots.DoubleDotsError{constructor(s,r,o,d){super(s),this.fullname=r,this.rule=o,this.RuleFun=d}}class e extends n{constructor(s){super(`Trigger name/prefix must begin with english letter or '_'.
${s} begins with '${s[0]}'.`)}static check(s){if(!s.match(/[a-z_].*/))throw new e(s)}}class t extends n{constructor(s){super(`DoubleDots definition names and rule prefixes can only contain /^[a-z0-9_.-]*$/: ${s}`)}static check(s){if(!s.match(/^[a-z0-9_\.-]*$/))throw new t(s)}}class a extends n{constructor(s,r,o,d){super(s,r,o,d),document.documentElement.dispatchEvent(new ErrorEvent(this))}}Object.assign(DoubleDots,{DefinitionError:n,TriggerNameError:e,DefinitionNameError:t,AsyncDefinitionError:a});class h{constructor(){v(this,u);v(this,_);v(this,y,{});v(this,c,{})}defineRule(s,r){t.check(s);for(let o of Object.keys(i(this,c)))if(o.startsWith(s)||s.startsWith(o))throw new n(`rule/rule conflict: trying to add '${s}' when '${o}' exists.`);for(let o of Object.keys(i(this,y)))if(o.startsWith(s))throw new n(`rule/name conflict: trying to add '${s}' when '${o}' exists.`);i(this,c)[s]=r,r instanceof Promise&&r.then(o=>i(this,c)[s]=o).catch(o=>i(this,c)[s]=new a(o,null,s))}define(s,r){if(t.check(s),s in i(this,y))throw new n(`name/name conflict: '${s}' already exists.`);for(let o of Object.keys(i(this,c)))if(s.startsWith(o))throw new n(`name/rule conflict: trying to add '${s}' when rule '${o}' exists.`);i(this,y)[s]=r,r instanceof Promise&&r.then(o=>i(this,y)[s]=o).catch(o=>i(this,y)[s]=new a(o,s))}get(s){return i(this,y)[s]||k(this,_,ue).call(this,s)}}y=new WeakMap,c=new WeakMap,u=new WeakSet,he=function(s,r,o){if(o instanceof Promise)return i(this,y)[s]=o.then(d=>(o=d)(s)).catch(d=>new a(d,null,r,null)).then(d=>i(this,y)[s]=d).catch(d=>i(this,y)[s]=new a(d,s,r,o));try{if(o instanceof Error)throw o;let d=i(this,y)[s]=o(s);return d instanceof Promise&&d.then(D=>i(this,y)[s]=D).catch(D=>i(this,y)[s]=new a(D,s,r,o)),d}catch(d){return i(this,y)[s]=new n(d,s,r,o)}},_=new WeakSet,ue=function(s){for(let[r,o]of Object.entries(i(this,c)))if(s.startsWith(r))return k(this,u,he).call(this,s,r,o)};class f extends Promise{static make(s){let r,o,d=new f((D,A)=>{r=D,o=A});return Object.assign(d,{resolve:r,reject:o,attr:s})}}class L{constructor(){v(this,Y);P(this,"unknowns",{});v(this,H,void 0)}make(s,r){var d,D;let o=f.make(r);return((D=(d=this.unknowns)[s])!=null?D:d[s]=[]).push(o),o.catch(A=>this.remove(s,o)),i(this,H)||k(this,Y,le).call(this),o}remove(s,r){let o=this.unknowns[s];if(!o)return;let d=o.indexOf(r);d<0||(o.splice(d,1),!o.length&&delete this.unknowns[s])}complete(s){let r=this.unknowns[s];delete this.unknowns[s];for(let o of r||[])try{o.resolve()}catch(d){}}completeRule(s){for(let r in this.unknowns)r.startsWith(s)&&this.complete(r)}}H=new WeakMap,Y=new WeakSet,le=async function(){for(j(this,H,!0);;){await new Promise(r=>setTimeout(r,1e4));let s=Object.entries(this.unknowns);if(!s.length)return j(this,H,!1);for(let[r,o]of s)for(let d of o.filter(D=>!D.attr.isConnected))this.remove(r,d)}};class T extends h{constructor(){super(...arguments);v(this,N,new L)}define(r,o){super.define(r,o),i(this,N).complete(r)}defineRule(r,o){super.defineRule(r,o),i(this,N).completeRule(r)}get(r,o){var d;return(d=super.get(r))!=null?d:i(this,N).make(r,o)}}N=new WeakMap;class l extends T{constructor(){super(...arguments);v(this,$,void 0)}defineRule(r,o){if(i(this,$))throw new n("ShadowRoot too-late definition error for rule: "+r);return super.defineRule(r,o)}define(r,o){if(i(this,$))throw new n("ShadowRoot too-late definition error for definition: "+r);return super.define(r,o)}get(r){return j(this,$,!0),super.get(r)}}$=new WeakMap;class g extends l{constructor(r,o){super();v(this,z,void 0);v(this,W,void 0);j(this,z,r),j(this,W,o)}get root(){return i(this,z)}get type(){return i(this,W)}get parentMap(){var r,o;return(o=(r=this.root.host)==null?void 0:r.getRootNode())==null?void 0:o[this.type]}get(r){return super.get(r)||this.parentMap.get(r)}}z=new WeakMap,W=new WeakMap;class m extends g{constructor(){super(...arguments);v(this,Q,{});v(this,X,void 0)}get rule(){var r;return(r=i(this,X))!=null?r:j(this,X,`^(${this.root.host.getAttribute("override-"+this.type.toLowercase())})`)}overrides(r){var o,d,D,A;return(A=(D=i(this,Q))[r])!=null?A:D[r]=((d=(o=this.parentMap)==null?void 0:o.overrides)==null?void 0:d.call(o,r))||this.rule.matches(r)&&this.parentMap}get(r){let o=this.overrides(r);return o?o.get(r):super.get(r)}}Q=new WeakMap,X=new WeakMap;function b(E){return class extends E{defineRule(r,o){e.check(r),super.defineRule(r,o)}define(r,o){e.check(r),super.define(r,o)}}}function w(E){return class extends E{define(r,o){DoubleDots.ThisArrowFunctionError.check(o),super.define(r,o)}}}Object.defineProperties(Document.prototype,{Reactions:{get:function(){let E=new T;return Object.defineProperty(this,"Reactions",{value:E,enumerable:!0}),E}},Triggers:{configurable:!0,get:function(){let E=b(T),s=new E;return Object.defineProperty(this,"Triggers",{value:s,enumerable:!0}),s}}}),Object.defineProperties(ShadowRoot.prototype,{Reactions:{configurable:!0,get:function(){let E=new m(this,"Reactions");return Object.defineProperty(this,"Reactions",{value:E,enumerable:!0}),E}},Triggers:{configurable:!0,get:function(){let E=b(m),s=new E(this,"Triggers");return Object.defineProperty(this,"Triggers",{value:s,enumerable:!0}),s}}});class p{constructor(s,r,o){this.url=s,this.name=r,this.fullname=DoubleDots.pascalToKebab(DoubleDots.pascalToCamel(r)),this.value=o||"",this.type=/^_*[A-Z]/.test(r)?"Triggers":"Reactions",this.rule=/[\._-]$/.test(r)?"defineRule":"define"}async getDefinition(){let s=await import(this.url);if(!s||typeof s!="object"&&!(s instanceof Object))throw new TypeError(`URL is not an es6 module: ${this.url}`);let r=this.value||this.name,o=s[r];if(o)return o;for(let[d,D]of Object.entries(s))if(d.startsWith("dynamic")&&D[r])return D[r];throw new TypeError(`ES6 module doesn't contain resource: ${r}`)}static*parse(s){var d,D;let r=(s.hash||s.search).slice(1);if(!r)throw DoubleDots.SyntaxError("DoubleDots.Reference not in url: "+s);let o=(D=(d=r.entries)==null?void 0:d.call(r))!=null?D:r.split("&").map(A=>A.split("="));for(let[A,fe]of o)yield new p(s,A,fe)}}async function R(E,s){for(let r of p.parse(E))s[r.type][r.rule](r.fullname,r.getDefinition())}Object.assign(DoubleDots,{DefinitionsMap:h,DefinitionsMapLock:l,DefinitionsMapDOM:g,DefinitionsMapDOMOverride:m,UnknownDefinitionsMap:T,UnknownDefinition:f,Reference:p,define:R})})();(function(){var h,f,L,T,l,K,m,V,w,p,R;let n=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=function(...c){var u;return((u=c[0])!=null?u:c[0]={}).mode="open",n.apply(this,c)},Event.data=Symbol("Event data");class e extends DoubleDots.DoubleDotsError{}DoubleDots.EventLoopError=e;class t{constructor(c,u){v(this,l);v(this,m);v(this,h,0);v(this,f,void 0);v(this,L,void 0);v(this,T,void 0);var O;this.at=u,this.event=c,j(this,f,this.at.reactions),j(this,L,[(O=c[Event.data])!=null?O:c]),j(this,T,[])}isConnected(){return this.at.isConnected()}getReaction(){return i(this,h)<i(this,f).length?i(this,f)[i(this,h)]:void 0}getReactionIndex(){return i(this,h)<i(this,f).length?i(this,h):-1}nextReaction(){return this.getReaction()}run(c=!1){for(let u=this.getReaction();u!==void 0;u=this.nextReaction()){if(u===""){c=!0,k(this,m,V).call(this,i(this,L)[i(this,h)]);continue}if(!u.startsWith("catch"))try{if(!this.at.isConnected)throw new e("Disconnected: "+this.at);let O=this.at.getRootNode().Reactions.get(u,this.at);if(O instanceof Error)throw O;if(O instanceof Promise)if(c){O.then(x=>__eventLoop.asyncContinue(this));return}else return O instanceof DoubleDots.UnknownDefinition?k(this,l,K).call(this,new e("Reaction not found: "+u)):(O.then(x=>__eventLoop.syncContinue()),this);let _=i(this,T)[i(this,h)]=O.apply(this.at,i(this,L).slice().reverse());if(_ instanceof Promise)if(c){_.then(x=>k(this,m,V).call(this,x)).catch(x=>k(this,l,K).call(this,x)).finally(x=>__eventLoop.asyncContinue(this));return}else return _.then(x=>k(this,m,V).call(this,x)).catch(x=>k(this,l,K).call(this,x)).finally(x=>__eventLoop.syncContinue()),this;k(this,m,V).call(this,_)}catch(O){k(this,l,K).call(this,O)}}}}h=new WeakMap,f=new WeakMap,L=new WeakMap,T=new WeakMap,l=new WeakSet,K=function(c){console.error(c),i(this,T)[i(this,h)]=c;let u="catch_"+c.constructor.name.replace(/[A-Z]/g,"-$&").toLowerCase();for(ne(this,h)._++;i(this,h)<i(this,f).length;ne(this,h)._++)if(i(this,f)[i(this,h)]==="catch"||i(this,f)[i(this,h)]===u)return;(this.at.isConnected?this.at.ownerElement:document.documentElement).dispatchEvent(new ErrorEvent("error",{error:c}))},m=new WeakSet,V=function(c){if(i(this,T)[i(this,h)]=c,c===EventLoop.Break)j(this,h,i(this,f).length);else if(c instanceof EventLoop.ReactionJump){let u=i(this,h)+c.value;i(this,L)[u]=i(this,L)[i(this,h)],j(this,h,u)}else{let u=i(this,h)+1;i(this,L)[u]=c,j(this,h,u)}};class a{constructor(){v(this,w,[]);v(this,p,[]);P(this,"task")}syncContinue(){(this.task=this.task.run())||this.loop()}asyncContinue(c){(this.task=c).run(!0)}loop(){for(;i(this,w)[0];){let{event:c,iterator:u}=i(this,w)[0];for(let O of u)if(this.task=new t(c,O),i(this,p).push(this.task),this.task=this.task.run())return;i(this,w).shift()}}batch(c,u){let O=u[Symbol.iterator]();i(this,w).push({event:c,iterator:O})===1&&this.loop()}}w=new WeakMap,p=new WeakMap,__eventLoop=new a,window.EventLoop=(R=class{get event(){var c;return(c=__eventLoop.task)==null?void 0:c.event}get attribute(){var c;return(c=__eventLoop.task)==null?void 0:c.at}get reaction(){var c;return(c=__eventLoop.task)==null?void 0:c.getReaction()}get reactionIndex(){var c;return(c=__eventLoop.task)==null?void 0:c.getReactionIndex()}dispatch(c,u){__eventLoop.batch(c,[u])}dispatchBatch(c,u){__eventLoop.batch(c,u)}},P(R,"ReactionJump",class{constructor(u){if(u=parseInt(u),!u||isNaN(u))throw new DoubleDotsErrorEvent("ReactionJump must be done using a positive or negative integer.");this.value=u}}),P(R,"Break",{}),P(R,"ReactionOrigin",class{constructor(u){if(!u||!(u instanceof Object))throw new DoubleDotsErrorEvent("ReactionOrigin must be an object not null.");this.value=u}}),P(R,"SpreadReaction",function(c){return function(O){return O instanceof Iterable?c.call(this,...O):c.call(this,O)}}),R),Object.defineProperty(window,"eventLoop",{value:new EventLoop})})();var $e={cloneNode:[Node.prototype,DocumentFragment.prototype],innerHTML:[Element.prototype,HTMLTemplateElement.prototype],insertAdjacentHTML:[Element.prototype,HTMLTemplateElement.prototype]};for(let[n,[e,t]]of Object.entries($e))Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));function de(n,e,t){let a=Object.getOwnPropertyDescriptor(n,e);a.set=t,Object.defineProperty(n,e,a)}function pe(n,e,t){let a=Object.getOwnPropertyDescriptor(n,e);a.value=t,Object.defineProperty(n,e,a)}(function(n,e){let t=Object.getOwnPropertyDescriptor(n,"innerHTML").set,a=function(w){t.call(this,w),AttrCustom.upgradeBranch(...this.children)},h=Object.getOwnPropertyDescriptor(e,"innerHTML").set,f=function(w){h.call(this,w),AttrCustom.upgradeBranch(...this.children)},L=n.insertAdjacentHTML;function T(b,...w){let p,R;b==="afterbegin"?(p=this,R=0):b==="beforeend"?(p=this,R=this.children.length):b==="beforebegin"?(p=this.parentNode,R=Array.prototype.indexOf.call(p.children,this)):b==="afterend"&&(p=this.parentNode,R=Array.prototype.indexOf.call(p.children,this)+1);let y=p.children.length;L.call(this,b,...w);let c=p.children.length-y,u=Array.from(p.children).slice(R,R+c);AttrCustom.upgradeBranch(...u)}let l=n.setAttribute,g=n.getAttributeNode;function m(b,w){if(b.startsWith("override-"))throw new SyntaxError("You can only set [override-xyz] attributes on elements in HTML template: "+b);if(!b.includes(":"))return l.call(this,b,w);let p=g.call(this,b);if(p){p.value!==w&&(p.value=w);return}l.call(this,b,w),p=g.call(this,b),AttrCustom.upgrade(p)}de(n,"innerHTML",a),de(e,"innerHTML",f),pe(n,"insertAdjacentHTML",T),pe(n,"setAttribute",m)})(Element.prototype,ShadowRoot.prototype);(function(){function n(l,g,m=l.getRootNode(),b=g==null?void 0:g.getRootNode()){if(!(g instanceof Element)||b===m||b instanceof DocumentFragment&&m instanceof DocumentFragment)return!1;if(l.isConnected&&b instanceof DocumentFragment)return!0;throw new DoubleDots.InsertElementFromJSError(l,g)}let e=[];function t(l){return n(this,l)?[l]:e}function a(l,g){return n(this,g)?[g]:e}function h(...l){let g=this.getRootNode();return l.filter(m=>n(this,m,g))}let f={"Element.prototype":{appendChild:t,insertBefore:t,append:h,prepend:h,insertAdjacentElement:a},"Document.prototype":{appendChild:t,insertBefore:t,append:h,prepend:h},"DocumentFragment.prototype":{appendChild:t,insertBefore:t,append:h,prepend:h}};function L(l,g,m){Object.defineProperty(l,g,{...Object.getOwnPropertyDescriptor(l,g),value:m})}function T(l,g){return function(...m){let b=g.call(this,...m),w=l.apply(this,m);return b.length&&AttrCustom.upgradeBranch(...b),w}}for(let[l,g]of Object.entries(f)){l=l.split(".");let m=l.reduce((w,p)=>w[p],window),b=l.reduce((w,p)=>{var R;return(R=w[p])!=null?R:w[p]={}},DoubleDots.nativeMethods);for(let[w,p]of Object.entries(g)){let R=b[w]=m[w],y=T(R,p);L(m,w,y)}}})();(function(){function n(){let t=this.ownerElement.getAttribute("src"),a=t?new URL(t,location):location;DoubleDots.define(new URL(this.value,a),this.ownerDocument)}class e extends AttrCustom{upgrade(){eventLoop.dispatch(new Event(this.trigger),this)}}document.Reactions.define("define",n),document.Triggers.define("_",e)})();(function(){let n=new WeakMap;class e extends AttrCustom{upgrade(){let f=document.createElement("template");f.innerHTML=this.ownerElement.innerHTML,n.set(this.ownerElement,f.content),this.ownerElement.textContent=""}}class t extends AttrCustom{upgrade(){let f=document.createDocumentFragment();f.append(...this.ownerElement.childNodes),n.set(this.ownerElement,f),this.ownerElement.textContent=""}}function a(){return n.get(this.ownerElement)}document.Triggers.define("_t",e),document.Triggers.define("_tt",t),document.Reactions.define("_t",a)})();(function(n){if(document.readyState!=="loading")return AttrCustom.upgradeBranch(document.htmlElement);n.call(document,"DOMContentLoaded",e=>AttrCustom.upgradeBranch(document.documentElement))})(EventTarget.prototype.addEventListener);})();
//# sourceMappingURL=dd.js.map

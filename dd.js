(()=>{var F=Object.defineProperty;var Z=t=>{throw TypeError(t)};var ee=(t,h,u)=>h in t?F(t,h,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[h]=u;var I=(t,h,u)=>ee(t,typeof h!="symbol"?h+"":h,u),z=(t,h,u)=>h.has(t)||Z("Cannot "+u);var i=(t,h,u)=>(z(t,h,"read from private field"),u?u.call(t):h.get(t)),j=(t,h,u)=>h.has(t)?Z("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(t):h.set(t,u),C=(t,h,u,v)=>(z(t,h,"write to private field"),v?v.call(t,u):h.set(t,u),u),_=(t,h,u)=>(z(t,h,"access private method"),u);var W=(t,h,u,v)=>({set _(g){C(t,h,g,u)},get _(){return i(t,h,v)}});(function(){var S,B;let t=document.createElement,h=EventTarget.prototype.addEventListener,u=setInterval,v=setTimeout;async function g(f){return await new Promise(l=>v(l,f))}function E(f){let l=t.call(document,"audio");h.call(l,"ratechange",f),l.playbackRate=2}let M=class M extends Set{static gc(){let l,c;for(let x of i(M,S))if(c=x.deref())for(let N of c)N.isConnected?l=!0:(c.delete(N),N.remove());else i(M,S).delete(x);!l&&C(M,B,clearInterval(i(M,B)))}constructor(...l){super(...l),i(M,S).add(new WeakRef(this))}add(l){var c;(c=i(M,B))!=null||C(M,B,u(M.gc,M.GC)),super.add(l)}};S=new WeakMap,B=new WeakMap,j(M,S,new Set),j(M,B),I(M,"GC",1e4);let y=M,O=function(){function f(p){return Object.keys(p).filter(T=>T.startsWith("on")).map(T=>T.substring(2).toLowerCase())}let l=f(Element.prototype),c=f(HTMLElement.prototype),x=f(window),N=f(Document.prototype),D=[...l,...c].filter((p,T,H)=>H.indexOf(p)===T),r=x.filter(p=>!D.includes(p)),n=N.filter(p=>!D.includes(p)&&!r.includes(p)),o={element:D,window:r,document:n};return o.element.push("touchstart","touchmove","touchend","touchcancel"),o.document.push("DOMContentLoaded"),Object.values(o).forEach(Object.freeze),Object.freeze(o),o}();function d(f){return f.replace(/-[a-z]/g,l=>l[1].toUpperCase())}function R(f){return f.replace(/[A-Z]/g,l=>"-"+l.toLowerCase())}function k(f){return f.replace(/^(_*)([A-Z])/,(l,c,x)=>c+x.toLowerCase())}async function L(f){f="export default "+f.trim();let l=new Blob([f],{type:"application/javascript"}),c=URL.createObjectURL(l),x=await import(c);return URL.revokeObjectURL(c),x.default}function m(f){let[l,...c]=f.split("_");for(let x=0;x<=c.length-1;x+=2){let N=c[x].replaceAll("..","\\:"),D=x<=c.length?`$="${c[x+1]}"`:"";l+=`[${N}${D}]`}return l}function*w(f,l="*"){for(let c=f.parentElement;c;c=c.parentElement)(l==="*"||c.matches(l))&&(yield c)}function*b(f,l="*"){for(let c=f.previousElementSibling;c;c=c.previousElementSibling)(l==="*"||c.matches(l))&&(yield c)}function*s(f,l="*"){for(let c=f.nextElementSibling;c;c=c.nextElementSibling)(l==="*"||c.matches(l))&&(yield c)}function*e(f){var l;for(let c=f.getRootNode();c;c=(l=c.host)==null?void 0:l.getRootNode())yield c}function*a(f,l="*"){for(let c=f.getRootNode().host;c;c=c.getRootNode().host)(l==="*"||c.matches(l))&&(yield c)}function*A(f,l="*"){for(let c,x=[...f.children];c=x.shift();x.push(...f.children))(l==="*"||c.matches(l))&&(yield c)}class P extends Error{constructor(l,c){super(l)}}class $ extends P{constructor(l){super("arrow function with `this`.")}static check(l){let c=l.toString();if(/^(async\s+|)(\(|[^([]+=)/.test(c)&&(c=c.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,""),c=c.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,""),c=c.replace(/(`)(?:(?=(\\?))\2.)*?\1/g,""),/\bthis\b/.test(c)))throw new $(l)}}window.DoubleDots={nativeMethods:{},DoubleDotsError:P,ThisArrowFunctionError:$,DeprecationError:class extends P{},MissingReaction:class extends P{},DisconnectedError:class extends P{},TriggerUpgradeError:class extends P{constructor(l,c){super(l)}},AttrWeakSet:y,nextTick:E,sleep:g,nativeEvents:O,kebabToPascal:d,pascalToKebab:R,pascalToCamel:k,up:w,left:b,right:s,roots:e,hosts:a,downwide:A,importBasedEval:L,miniQuerySelector:m}})();(function(){var m,J;let b=class b extends Attr{get trigger(){var e;return _(e=b,m,J).call(e,this),this.trigger}get reactions(){var e;return _(e=b,m,J).call(e,this),this.reactions}isConnected(){return this.ownerElement.isConnected()}getRootNode(...e){var a;return(a=this.ownerElement)==null?void 0:a.getRootNode(...e)}remove(){return this.ownerElement.removeAttribute(this.name)}dispatchEvent(e){if(!this.isConnected)throw new DoubleDots.ReactionError("dispatch on disconnected attribute.");eventLoop.dispatch(e,this)}static upgradeBranch(...e){for(let a of e)if(a instanceof Element)this.upgradeElementRoot(a);else if(a instanceof DocumentFragment)for(let A of a.children)this.upgradeElementRoot(A)}static upgradeElementRoot(e){for(let a of e.attributes)a.name.includes(":")&&b.upgrade(a);for(let a of e.children)this.upgradeElementRoot(a)}static upgrade(e,a){var A;if(a!=null||(a=e.ownerElement.getRootNode().Triggers.get(e.name.split(":")[0],e)),a instanceof Error)throw a;if(a instanceof Promise){Object.setPrototypeOf(e,u.prototype),a.then(P=>b.upgrade(e,P));return}try{Object.setPrototypeOf(e,a.prototype),(A=e.upgrade)==null||A.call(e),e.value&&(e.value=e.value)}catch(P){throw new DoubleDots.TriggerUpgradeError(a.name+".upgrade() caused an error. Triggers shouldn't cause errors.")}}};m=new WeakSet,J=function(e){let[a,...A]=e.name.split(":");A.length===1&&!A[0]&&A.pop(),Object.defineProperties(e,{trigger:{value:a,enumerable:!0},reactions:{value:A,enumerable:!0}})},j(b,m);let t=b;class h extends t{remove(){}}class u extends t{}let v=Event.prototype.stopImmediatePropagation,g=EventTarget.prototype.addEventListener,E=EventTarget.prototype.removeEventListener,y={};Object.defineProperty(Event,"activeListeners",{enumerable:!0,value:function(e){return y[e]}});class O extends t{upgrade(){Object.defineProperty(this,"__l",{value:this.run.bind(this)}),g.call(this.target,this.type,this.__l,this.options),y[this.type]=(y[this.type]||0)+1}remove(){y[this.type]-=1,E(this.target,this.type,this.__l,this.options),super.remove()}get target(){return this.ownerElement}get type(){return this.trigger}run(e){eventLoop.dispatch(e,this)}}class d extends O{get register(){var a,A;let e=this.target.triggers;return e||Object.defineProperty(this.target,"triggers",{value:e={}}),(A=e[a=this.trigger])!=null?A:e[a]=DoubleDots.AttrWeakSet()}get target(){return window}upgrade(){super.upgrade(),this.register.add(this)}remove(){this.register.delete(this),super.remove()}run(e){v.call(e),eventLoop.dispatchBatch(e,this.register)}}class R extends t{upgrade(){let e=new MutationObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.target,this.settings)}remove(){this.observer.disconnect(),super.remove()}get target(){return this.ownerElement}get settings(){return{attributes:!0,attributesOldValue:!0}}run(e){for(let a of e)eventLoop.dispatch(a,this)}}class k extends t{upgrade(){let e=new ResizeObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.ownerElement,this.settings)}remove(){this.observer.disconnect(),super.remove()}get settings(){return{box:this.trigger}}run(e){eventLoop.dispatch(e,this)}}class L extends t{upgrade(){let e=new IntersectionObserver(this.run.bind(this));Object.defineProperty(this,"observer",{value:e}),this.observer.observe(this.ownerElement,this.settings)}stop(){this.observer.disconnect()}remove(){this.stop(),super.remove()}run([e]){document.readyState==="complete"&&eventLoop.dispatch(e,this)}}Object.assign(window,{AttrListener:O,AttrListenerGlobal:d,AttrCustom:t,AttrImmutable:h,AttrUnknown:u,AttrMutation:R,AttrIntersection:L,AttrResize:k})})();(function(){var s,e,a,K,V,$,S,Y,M,f,l,c,x,N;class t extends DoubleDots.DoubleDotsError{constructor(r,n,o,p){super(r),this.fullname=n,this.rule=o,this.RuleFun=p}}class h extends t{constructor(r){super(`Trigger name/prefix must begin with english letter or '_'.
${r} begins with '${r[0]}'.`)}static check(r){if(!r.match(/[a-z_].*/))throw new h(r)}}class u extends t{constructor(r){super(`DoubleDots definition names and rule prefixes can only contain /^[a-z0-9_.-]*$/: ${r}`)}static check(r){if(!r.match(/^[a-z0-9_\.-]*$/))throw new u(r)}}class v extends t{constructor(r,n,o,p){super(r,n,o,p),document.documentElement.dispatchEvent(new ErrorEvent(this))}}Object.assign(DoubleDots,{DefinitionError:t,TriggerNameError:h,DefinitionNameError:u,AsyncDefinitionError:v});class g{constructor(){j(this,a);j(this,s,{});j(this,e,{})}defineRule(r,n){u.check(r);for(let o of Object.keys(i(this,e)))if(o.startsWith(r)||r.startsWith(o))throw new t(`rule/rule conflict: trying to add '${r}' when '${o}' exists.`);for(let o of Object.keys(i(this,s)))if(o.startsWith(r))throw new t(`rule/name conflict: trying to add '${r}' when '${o}' exists.`);i(this,e)[r]=n,n instanceof Promise&&n.then(o=>i(this,e)[r]=o).catch(o=>i(this,e)[r]=new v(o,null,r))}define(r,n){if(u.check(r),r in i(this,s))throw new t(`name/name conflict: '${r}' already exists.`);for(let o of Object.keys(i(this,e)))if(r.startsWith(o))throw new t(`name/rule conflict: trying to add '${r}' when rule '${o}' exists.`);i(this,s)[r]=n,n instanceof Promise&&n.then(o=>i(this,s)[r]=o).catch(o=>i(this,s)[r]=new v(o,r))}get(r){return i(this,s)[r]||_(this,a,V).call(this,r)}}s=new WeakMap,e=new WeakMap,a=new WeakSet,K=function(r,n,o){if(o instanceof Promise)return i(this,s)[r]=o.then(p=>(o=p)(r)).catch(p=>new v(p,null,n,null)).then(p=>i(this,s)[r]=p).catch(p=>i(this,s)[r]=new v(p,r,n,o));try{if(o instanceof Error)throw o;let p=i(this,s)[r]=o(r);return p instanceof Promise&&p.then(T=>i(this,s)[r]=T).catch(T=>i(this,s)[r]=new v(T,r,n,o)),p}catch(p){return i(this,s)[r]=new t(p,r,n,o)}},V=function(r){for(let[n,o]of Object.entries(i(this,e)))if(r.startsWith(n))return _(this,a,K).call(this,r,n,o)};class E extends Promise{static make(r){let n,o,p=new E((T,H)=>{n=T,o=H});return Object.assign(p,{resolve:n,reject:o,attr:r})}}class y{constructor(){j(this,S);I(this,"unknowns",{});j(this,$)}make(r,n){var p,T;let o=E.make(n);return((T=(p=this.unknowns)[r])!=null?T:p[r]=[]).push(o),o.catch(H=>this.remove(r,o)),i(this,$)||_(this,S,Y).call(this),o}remove(r,n){let o=this.unknowns[r];if(!o)return;let p=o.indexOf(n);p<0||(o.splice(p,1),!o.length&&delete this.unknowns[r])}complete(r){let n=this.unknowns[r];delete this.unknowns[r];for(let o of n||[])try{o.resolve()}catch(p){}}completeRule(r){for(let n in this.unknowns)n.startsWith(r)&&this.complete(n)}}$=new WeakMap,S=new WeakSet,Y=async function(){for(C(this,$,!0);;){await new Promise(n=>setTimeout(n,1e4));let r=Object.entries(this.unknowns);if(!r.length)return C(this,$,!1);for(let[n,o]of r)for(let p of o.filter(T=>!T.attr.isConnected))this.remove(n,p)}};class O extends g{constructor(){super(...arguments);j(this,M,new y)}define(n,o){super.define(n,o),i(this,M).complete(n)}defineRule(n,o){super.defineRule(n,o),i(this,M).completeRule(n)}get(n,o){var p;return(p=super.get(n))!=null?p:i(this,M).make(n,o)}}M=new WeakMap;class d extends O{constructor(){super(...arguments);j(this,f)}defineRule(n,o){if(i(this,f))throw new t("ShadowRoot too-late definition error for rule: "+n);return super.defineRule(n,o)}define(n,o){if(i(this,f))throw new t("ShadowRoot too-late definition error for definition: "+n);return super.define(n,o)}get(n){return C(this,f,!0),super.get(n)}}f=new WeakMap;class R extends d{constructor(n,o){super();j(this,l);j(this,c);C(this,l,n),C(this,c,o)}get root(){return i(this,l)}get type(){return i(this,c)}get parentMap(){var n,o;return(o=(n=this.root.host)==null?void 0:n.getRootNode())==null?void 0:o[this.type]}get(n){return super.get(n)||this.parentMap.get(n)}}l=new WeakMap,c=new WeakMap;class k extends R{constructor(){super(...arguments);j(this,x,{});j(this,N)}get rule(){var n;return(n=i(this,N))!=null?n:C(this,N,`^(${this.root.host.getAttribute("override-"+this.type.toLowercase())})`)}overrides(n){var o,p,T,H;return(H=(T=i(this,x))[n])!=null?H:T[n]=((p=(o=this.parentMap)==null?void 0:o.overrides)==null?void 0:p.call(o,n))||this.rule.matches(n)&&this.parentMap}get(n){let o=this.overrides(n);return o?o.get(n):super.get(n)}}x=new WeakMap,N=new WeakMap;function L(D){return class extends D{defineRule(n,o){h.check(n),super.defineRule(n,o)}define(n,o){h.check(n),super.define(n,o)}}}function m(D){return class extends D{define(n,o){DoubleDots.ThisArrowFunctionError.check(o),super.define(n,o)}}}Object.defineProperties(Document.prototype,{Reactions:{get:function(){let D=new O;return Object.defineProperty(this,"Reactions",{value:D,enumerable:!0}),D}},Triggers:{configurable:!0,get:function(){let D=L(O),r=new D;return Object.defineProperty(this,"Triggers",{value:r,enumerable:!0}),r}}}),Object.defineProperties(ShadowRoot.prototype,{Reactions:{configurable:!0,get:function(){let D=new k(this,"Reactions");return Object.defineProperty(this,"Reactions",{value:D,enumerable:!0}),D}},Triggers:{configurable:!0,get:function(){let D=L(k),r=new D(this,"Triggers");return Object.defineProperty(this,"Triggers",{value:r,enumerable:!0}),r}}});class w{constructor(r,n,o){this.url=r,this.name=n,this.fullname=DoubleDots.pascalToKebab(DoubleDots.pascalToCamel(n)),this.value=o||"",this.type=/^_*[A-Z]/.test(n)?"Triggers":"Reactions",this.rule=/[\._-]$/.test(n)?"defineRule":"define"}async getDefinition(){let r=await import(this.url);if(!r||typeof r!="object"&&!(r instanceof Object))throw new TypeError(`URL is not an es6 module: ${this.url}`);let n=this.value||this.name,o=r[n];if(o)return o;for(let[p,T]of Object.entries(r))if(p.startsWith("dynamic")&&T[n])return T[n];throw new TypeError(`ES6 module doesn't contain resource: ${n}`)}static*parse(r){var p,T;let n=(r.hash||r.search).slice(1);if(!n)throw DoubleDots.SyntaxError("DoubleDots.Reference not in url: "+r);let o=(T=(p=n.entries)==null?void 0:p.call(n))!=null?T:n.split("&").map(H=>H.split("="));for(let[H,q]of o)yield new w(r,H,q)}}async function b(D,r){for(let n of w.parse(D))r[n.type][n.rule](n.fullname,n.getDefinition())}Object.assign(DoubleDots,{DefinitionsMap:g,DefinitionsMapLock:d,DefinitionsMapDOM:R,DefinitionsMapDOMOverride:k,UnknownDefinitionsMap:O,UnknownDefinition:E,Reference:w,define:b})})();(function(){var g,E,y,O,d,U,G,L,m,w;let t=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=function(...s){var e;return((e=s[0])!=null?e:s[0]={}).mode="open",t.apply(this,s)},Event.data=Symbol("Event data");class h extends DoubleDots.DoubleDotsError{}DoubleDots.EventLoopError=h;class u{constructor(s,e){j(this,d);j(this,g,0);j(this,E);j(this,y);j(this,O);var a;this.at=e,this.event=s,C(this,E,this.at.reactions),C(this,y,[(a=s[Event.data])!=null?a:s]),C(this,O,[])}isConnected(){return this.at.isConnected()}getReaction(){return i(this,g)<i(this,E).length?i(this,E)[i(this,g)]:void 0}getReactionIndex(){return i(this,g)<i(this,E).length?i(this,g):-1}nextReaction(){return this.getReaction()}run(s=!1){for(let e=this.getReaction();e!==void 0;e=this.nextReaction()){if(e===""){s=!0,_(this,d,G).call(this,i(this,y)[i(this,g)]);continue}if(!e.startsWith("catch"))try{if(!this.at.isConnected)throw new h("Disconnected: "+this.at);let a=this.at.getRootNode().Reactions.get(e,this.at);if(a instanceof Error)throw a;if(a instanceof Promise)if(s){a.then(P=>__eventLoop.asyncContinue(this));return}else return a instanceof DoubleDots.UnknownDefinition?_(this,d,U).call(this,new h("Reaction not found: "+e)):(a.then(P=>__eventLoop.syncContinue()),this);let A=i(this,O)[i(this,g)]=a.apply(this.at,i(this,y).slice().reverse());if(A instanceof Promise)if(s){A.then(P=>_(this,d,G).call(this,P)).catch(P=>_(this,d,U).call(this,P)).finally(P=>__eventLoop.asyncContinue(this));return}else return A.then(P=>_(this,d,G).call(this,P)).catch(P=>_(this,d,U).call(this,P)).finally(P=>__eventLoop.syncContinue()),this;_(this,d,G).call(this,A)}catch(a){_(this,d,U).call(this,a)}}}}g=new WeakMap,E=new WeakMap,y=new WeakMap,O=new WeakMap,d=new WeakSet,U=function(s){console.error(s),i(this,O)[i(this,g)]=s;let e="catch_"+s.constructor.name.replace(/[A-Z]/g,"-$&").toLowerCase();for(W(this,g)._++;i(this,g)<i(this,E).length;W(this,g)._++)if(i(this,E)[i(this,g)]==="catch"||i(this,E)[i(this,g)]===e)return;(this.at.isConnected?this.at.ownerElement:document.documentElement).dispatchEvent(new ErrorEvent("error",{error:s}))},G=function(s){if(i(this,O)[i(this,g)]=s,s===EventLoop.Break)C(this,g,i(this,E).length);else if(s instanceof EventLoop.ReactionJump){let e=i(this,g)+s.value;i(this,y)[e]=i(this,y)[i(this,g)],C(this,g,e)}else{let e=i(this,g)+1;i(this,y)[e]=s,C(this,g,e)}};class v{constructor(){j(this,L,[]);j(this,m,[]);I(this,"task")}syncContinue(){(this.task=this.task.run())||this.loop()}asyncContinue(s){(this.task=s).run(!0)}loop(){for(;i(this,L)[0];){let{event:s,iterator:e}=i(this,L)[0];for(let a of e)if(this.task=new u(s,a),i(this,m).push(this.task),this.task=this.task.run())return;i(this,L).shift()}}batch(s,e){let a=e[Symbol.iterator]();i(this,L).push({event:s,iterator:a})===1&&this.loop()}}L=new WeakMap,m=new WeakMap,__eventLoop=new v,window.EventLoop=(w=class{get event(){var s;return(s=__eventLoop.task)==null?void 0:s.event}get attribute(){var s;return(s=__eventLoop.task)==null?void 0:s.at}get reaction(){var s;return(s=__eventLoop.task)==null?void 0:s.getReaction()}get reactionIndex(){var s;return(s=__eventLoop.task)==null?void 0:s.getReactionIndex()}dispatch(s,e){__eventLoop.batch(s,[e])}dispatchBatch(s,e){__eventLoop.batch(s,e)}},I(w,"ReactionJump",class{constructor(e){if(e=parseInt(e),!e||isNaN(e))throw new DoubleDotsErrorEvent("ReactionJump must be done using a positive or negative integer.");this.value=e}}),I(w,"Break",{}),I(w,"ReactionOrigin",class{constructor(e){if(!e||!(e instanceof Object))throw new DoubleDotsErrorEvent("ReactionOrigin must be an object not null.");this.value=e}}),I(w,"SpreadReaction",function(s){return function(a){return a instanceof Iterable?s.call(this,...a):s.call(this,a)}}),w),Object.defineProperty(window,"eventLoop",{value:new EventLoop})})();function Q(t,h,u){let v=Object.getOwnPropertyDescriptor(t,h);v.set=u,Object.defineProperty(t,h,v)}function X(t,h,u){let v=Object.getOwnPropertyDescriptor(t,h);v.value=u,Object.defineProperty(t,h,v)}(function(t,h){let u={cloneNode:[Node.prototype,DocumentFragment.prototype],innerHTML:[Element.prototype,HTMLTemplateElement.prototype],insertAdjacentHTML:[Element.prototype,HTMLTemplateElement.prototype]};for(let[m,[w,b]]of Object.entries(u))Object.defineProperty(b,m,Object.getOwnPropertyDescriptor(w,m));let v=Object.getOwnPropertyDescriptor(t,"innerHTML").set,g=function(w){v.call(this,w),AttrCustom.upgradeBranch(...this.children)},E=Object.getOwnPropertyDescriptor(h,"innerHTML").set,y=function(w){E.call(this,w),AttrCustom.upgradeBranch(...this.children)},O=t.insertAdjacentHTML;function d(m,...w){let b,s;m==="afterbegin"?(b=this,s=0):m==="beforeend"?(b=this,s=this.children.length):m==="beforebegin"?(b=this.parentNode,s=Array.prototype.indexOf.call(b.children,this)):m==="afterend"&&(b=this.parentNode,s=Array.prototype.indexOf.call(b.children,this)+1);let e=b.children.length;O.call(this,m,...w);let a=b.children.length-e,A=Array.from(b.children).slice(s,s+a);AttrCustom.upgradeBranch(...A)}let R=t.setAttribute,k=t.getAttributeNode;function L(m,w){if(m.startsWith("override-"))throw new SyntaxError("You can only set [override-xyz] attributes on elements in HTML template: "+m);if(!m.includes(":"))return R.call(this,m,w);let b=k.call(this,m);if(b){b.value!==w&&(b.value=w);return}R.call(this,m,w),b=k.call(this,m),AttrCustom.upgrade(b)}Q(t,"innerHTML",g),Q(h,"innerHTML",y),X(t,"insertAdjacentHTML",d),X(t,"setAttribute",L)})(Element.prototype,ShadowRoot.prototype);(function(){function t(d,R,k=d.getRootNode(),L=R==null?void 0:R.getRootNode()){if(!(R instanceof Element)||L===k||L instanceof DocumentFragment&&k instanceof DocumentFragment)return!1;if(d.isConnected&&L instanceof DocumentFragment)return!0;throw new DoubleDots.InsertElementFromJSError(d,R)}let h=[];function u(d){return t(this,d)?[d]:h}function v(d,R){return t(this,R)?[R]:h}function g(...d){let R=this.getRootNode();return d.filter(k=>t(this,k,R))}let E={"Element.prototype":{appendChild:u,insertBefore:u,append:g,prepend:g,insertAdjacentElement:v},"Document.prototype":{appendChild:u,insertBefore:u,append:g,prepend:g},"DocumentFragment.prototype":{appendChild:u,insertBefore:u,append:g,prepend:g}};function y(d,R,k){Object.defineProperty(d,R,{...Object.getOwnPropertyDescriptor(d,R),value:k})}function O(d,R){return function(...k){let L=R.call(this,...k),m=d.apply(this,k);return L.length&&AttrCustom.upgradeBranch(...L),m}}for(let[d,R]of Object.entries(E)){d=d.split(".");let k=d.reduce((m,w)=>m[w],window),L=d.reduce((m,w)=>{var b;return(b=m[w])!=null?b:m[w]={}},DoubleDots.nativeMethods);for(let[m,w]of Object.entries(R)){let b=L[m]=k[m],s=O(b,w);y(k,m,s)}}})();(function(){function t(){let u=this.ownerElement.getAttribute("src"),v=u?new URL(u,location):location;DoubleDots.define(new URL(this.value,v),this.ownerDocument)}class h extends AttrCustom{upgrade(){eventLoop.dispatch(new Event(this.trigger),this)}}document.Reactions.define("define",t),document.Triggers.define("_",h)})();(function(){let t=new WeakMap;class h extends AttrCustom{upgrade(){let E=document.createElement("template");E.innerHTML=this.ownerElement.innerHTML,t.set(this.ownerElement,E.content),this.ownerElement.textContent=""}}class u extends AttrCustom{upgrade(){let E=document.createDocumentFragment();E.append(...this.ownerElement.childNodes),t.set(this.ownerElement,E),this.ownerElement.textContent=""}}function v(){return t.get(this.ownerElement)}document.Triggers.define("_t",h),document.Triggers.define("_tt",u),document.Reactions.define("_t",v)})();(function(t){if(document.readyState!=="loading")return AttrCustom.upgradeBranch(document.htmlElement);t.call(document,"DOMContentLoaded",h=>AttrCustom.upgradeBranch(document.documentElement))})(EventTarget.prototype.addEventListener);(function(){function t(){throw new DoubleDots.DeprecationError}let h={"Element.prototype":{hasAttributeNS:t,getAttributeNS:t,setAttributeNS:t,removeAttributeNS:t,setAttributeNode:t,removeAttributeNode:t,getAttributeNodeNS:t,setAttributeNodeNS:t,after:t,before:t},"Event.prototype":{stopPropagation:t,stopImmediatePropagation:t},"EventTarget.prototype":{addEventListener:t,removeEventListener:t},window:{setTimeout:t,clearTimeout:t,setInterval:t,clearInterval:t,event:t},"Document.prototype":{createAttribute:t,createComment:t,createDocumentFragment:t,createElement:t,createTextNode:t,importNode:t,currentScript:t,write:t},"Node.prototype":{cloneNode:t}};for(let[u,v]of Object.entries(h)){u=u.split(".");let g=u.reduce((y,O)=>y[O],window),E=u.reduce((y,O)=>{var d;return(d=y[O])!=null?d:y[O]={}},DoubleDots.nativeMethods);for(let[y,O]of Object.entries(v)){let d=Object.getOwnPropertyDescriptor(g,y);Object.defineProperty(E,y,d),d.value?d.value=O:d.get=d.get=O}}})();})();
//# sourceMappingURL=dd.js.map

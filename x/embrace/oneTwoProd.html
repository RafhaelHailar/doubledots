<script src="/dd.js"></script>
<script type="module" src="/ddx.js?fetch_json&oi.~&el.~" _:define></script>
<script type="module" src="./v1.js?embrace" _:define></script>
<script embrace="embrace">
  window.Embrace = {
    embrace: {
      embrace_3: function embrace_3(args, v) {
        return args("$");
      },
      embrace_3_2: function embrace_3_2(args, v) {
        return `company #${(v = args("#company")) === false || v === undefined ? "" : v}`;
      },
      embrace_3_5: function embrace_3_5(args, v) {
        return `company id is ${(v = args("company")) === false || v === undefined ? "" : v}`;
      },
      embrace_3_8: function embrace_3_8(args, v) {
        return `company is called ${(v = args("$company.name")) === false || v === undefined ? "" : v} `;
      },
      embrace_3_11: function embrace_3_11(args, v) {
        return ` and has ${(v = args("$")[args("company")].employees.length) === false || v === undefined ? "" : v} employees`;
      },
      embrace_6: function embrace_6(args, v) {
        return args("company1.name") === 'Acme';
      },
      embrace_6_2: function embrace_6_2(args, v) {
        return `Acme has ${(v = args("company1.employees.length")) === false || v === undefined ? "" : v} employees`;
      }
    }
  };
</script>

<div id="embrace1" _::fetch_json:el.first-element-child:embrace="/x/pp/companies.json"><template>
    <ul>
      <template for="let company in $">
        <li>company #{{#company}}</li>
        <li>company id is {{company}}</li>
        <li>company is called {{$company.name}} </li>
        <li> and has {{$[company].employees.length}} employees</li>
      </template>
    </ul>
    <template if="company1.name === 'Acme'">
      <div>Acme has {{company1.employees.length}} employees</div>
    </template>
  </template></div>
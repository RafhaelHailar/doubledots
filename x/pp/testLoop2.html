<head>
  <script src="../../src/1_1_DoubleDots.js"></script>
  <script src="../../src/1_2_AttrCustom.js"></script>
  <script src="../../src/3_definition_registers_v4.js"></script>
  <script src="../../src/4_eventLoop_v2.js"></script>
  <script src="../../src/6_load_DoubleDots.js"></script>
  <script src="../../src/7_nativeMethods.js"></script>

  <script type="module" src="/x/dotRule/dot.js" _:define="?oi."></script>
  <script type="module" src="/x/fetch/v1.js" _:define="?fetch_json"></script>
  <script type="module" src="/x/template/v1.js" _:define="?template_"></script>
  <script type="module" src="v1.js" _:define="?Pp&pp&loop_"></script>
  <script>
    document.Reactions.define("log", function(...args){
      console.log(this, ...args);
    })
  </script>

  <template name="company">
    <li pp:>the name of the company is {{name}}</li>
  </template>

</head>

<body _::fetch_json:pp="companies.json"> <!-- body.pp is the object -->
  <!-- here is a magic pupdate. It will populate the p: from above. -->
  <main>
    <div pp:log="company1">
      <ol pp:oi.data:loop_company=".employees">
        <!-- here is a magic loop. It will loop over the array and create a new template for each item. -->
        <li pp:=".1">the name of the company is {{name}} company1.employees.1</li>
        <li pp:=".2">the name of the company is {{name}}</li>
        <li pp:=".3">the name of the company is {{name}}</li>
      </ol>
    </div>
  </main>
</body>
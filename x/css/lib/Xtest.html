<script type="module">
  import {  toCss } from "./Xengine.js";

  const units = {
    "$flex(row-reverse, p(1%,,3%), gap(,3rem))":
`/*container 0*/
/*$flex(row-reverse, p(1%,,3%), gap(,3rem))*/
:where(.\\$flex\\(row-reverse\\,\\ p\\(1\\%\\,\\,3\\%\\)\\,\\ gap\\(\\,3rem\\)\\)) {
  display: flex;
  flex-direction: row-reverse;
  padding-top: 1%;
  padding-bottom: 3%;
  padding-block-start: 1%;
  padding-block-end: 3%;
  gap-row: 3rem;
}`,
"$border(w(,1px,2px), s(,,solid,dashed))":
`/*container 0*/
/*$border(w(,1px,2px), s(,,solid,dashed))*/
:where(.\\$border\\(w\\(\\,1px\\,2px\\)\\,\\ s\\(\\,\\,solid\\,dashed\\)\\)) {
  border-right-width: 1px;
  border-bottom-width: 2px;
  border-left-width: 1px;
  border-block-end-width: 2px;
  border-inline-start-width: 1px;
  border-inline-end-width: 1px;
  border-right-style: dashed;
  border-bottom-style: solid;
  border-block-end-style: solid;
  border-inline-end-style: dashed;
}`,
"$size(1px,2px)":
`/*container 0*/
/*$size(1px,2px)*/
:where(.\\$size\\(1px\\,2px\\)) {
  block-size: 1px;
  inline-size: 2px;
}`,
"$size(,2px)":
`/*container 0*/
/*$size(,2px)*/
:where(.\\$size\\(\\,2px\\)) {
  inline-size: 2px;
}`,
"$size(fit(2px))":
`/*container 0*/
/*$size(fit(2px))*/
:where(.\\$size\\(fit\\(2px\\)\\)) {
  min-block-size: min-content;
  block-size: 2px;
  max-block-size: max-content;
}`,
  };
  for (let [expr, expect] of Object.entries(units)) {
    const res = toCss(expr);
    if (res != expect) {
      console.log(res);
      console.log("------------------------");
      console.log(JSON.stringify(res));
      console.log("------------------------");
      console.log(JSON.stringify(expect));
    } else {
      console.log("OK", expr);
    }
  }

</script>
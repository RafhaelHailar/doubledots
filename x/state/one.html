<script src="/dd.js"></script>
<!-- todo fix the bug when empty script -->
<script type="module" src="v1.js?STATE~~" _:define></script>

<script>
  document.Reactions.define("log", function (e) { console.log(this.name, e); });
  document.Reactions.define("hello", _ => "sunshine");
  document.Reactions.define("goodbye", _ => "darkness");
</script>

<body _::hello:state_hello _::goodbye:state_goodbye>
  <div state_hello:log>
    hello hello
  </div>
  <div state_goodbye:log>
    goodbye goodbye
  </div>
  <span state:log>more sunshine and darkness</span>
  <span state_hello_goodbye:log>runs only at the end when it has both</span>
  <span state_hello_goodbye_never:log>will not run as it is missing some props</span>
</body>
{
  "version": 3,
  "sources": ["src/dd/1_DoubleDots.js", "src/dd/2_AttrCustom.js", "src/dd/3_definition_registers_v4.js", "src/dd/4_eventLoop_v2.js", "src/dd/5_load_DoubleDots.js", "x/define/v1.js", "x/template/v1.js", "x/css/v1.js", "x/wait/v1.js", "src/dd/dd.js"],
  "sourcesContent": ["const OG = {};\n\nexport function monkeyPatch(path, valueOrSet, get) {\n  const dots = path.split(\".\");\n  const prop = dots.pop();\n  const proto = dots.reduce((o, p) => o[p], window);\n  let desc = Object.getOwnPropertyDescriptor(proto, prop);\n  if (!desc)\n    for (let p = Object.getPrototypeOf(proto); p; p = Object.getPrototypeOf(p))\n      if (desc = Object.getOwnPropertyDescriptor(p, prop))\n        break;\n  const key = desc.value ? \"value\" : \"set\";\n  OG[path] ??= desc[key];\n  desc[key] = valueOrSet;\n  get && key === \"set\" && (desc.get = get);\n  Object.defineProperty(proto, prop, desc);\n}\n\nexport function nativeMethods(path) {\n  return OG[path] ?? path.split(\".\").reduce((o, p) => o[p], window);\n}\n\nconst dce = document.createElement;\nconst ael = EventTarget.prototype.addEventListener;\nconst si = setInterval;\nconst st = setTimeout;\n\nasync function sleep(ms) {\n  return await new Promise(r => st(r, ms));\n}\n\nfunction nextTick(cb) {\n  const a = dce.call(document, \"audio\");\n  ael.call(a, \"ratechange\", cb);\n  a.playbackRate = 2;\n}\n\nclass AttrWeakSet extends Set {\n  static #bigSet = new Set(); //wr => AttrWeakSet\n  static #key;\n  static GC = 10_000;\n\n  static gc() {\n    let active, l;\n    for (let wr of AttrWeakSet.#bigSet) {\n      if (l = wr.deref())\n        for (let a of l)\n          a.isConnected ? (active = true) : (l.delete(a), a.remove());\n      else\n        AttrWeakSet.#bigSet.delete(wr);\n\n    }\n    !active && (AttrWeakSet.#key = clearInterval(AttrWeakSet.#key));\n  }\n\n  constructor(...args) {\n    super(...args);\n    AttrWeakSet.#bigSet.add(new WeakRef(this));\n  }\n\n  add(at) {\n    AttrWeakSet.#key ??= si(AttrWeakSet.gc, AttrWeakSet.GC);\n    super.add(at);\n  }\n}\n\nconst nativeEvents = (function () {\n  function extractHandlers(obj) {\n    return Object.keys(obj)\n      .filter(k => k.startsWith(\"on\"))\n      .map(k => k.substring(2).toLowerCase());\n  }\n  const eOn = extractHandlers(Element.prototype);\n  const hOn = extractHandlers(HTMLElement.prototype);\n  const wOn = extractHandlers(window);\n  const dOn = extractHandlers(Document.prototype);\n\n  const e = [...eOn, ...hOn].filter((a, i, ar) => ar.indexOf(a) === i);\n  const w = wOn.filter(x => !e.includes(x));\n  const d = dOn.filter(x => !e.includes(x) && !w.includes(x));\n  //todo should I switch the difference between window and document?\n  const result = { element: e, window: w, document: d };\n  result.element.push(\"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\");\n  result.document.push(\"DOMContentLoaded\");\n  Object.values(result).forEach(Object.freeze);\n  Object.freeze(result);\n  return result;\n})();\n\nfunction kebabToPascal(str) {\n  return str.replace(/-[a-z]/g, c => c[1].toUpperCase());\n}\n\nfunction pascalToKebab(str) {\n  return str.replace(/[A-Z]/g, c => '-' + c.toLowerCase());\n}\n\n/**\n* This method is just as bad as eval. But, \n* if you use this during development, and \n* then switch to a static Reaction Trigger in production,\n* then you will be fine.\n* \n* @param {string} The body of the function to be created from the string.\n* @returns Function \n*/\nasync function importBasedEval(codeString) {\n  codeString = \"export default \" + codeString.trim();\n  const blob = new Blob([codeString], { type: 'application/javascript' });\n  const url = URL.createObjectURL(blob);\n  const module = await import(url);\n  URL.revokeObjectURL(url);\n  return module.default;\n}\n\n/**\n * miniQuerySelector\n * \n * Converts miniQuerySelector given in super limited DoubleDots notation\n * into a valid css querySelector.\n * \n * For example: \n *     my-element.foo.bar_attr-hello.._sunshine_active\n * =>  my-element.foo.bar[attr-hello\\:$=\"sunshine\"][active]\n * \n * @param {string} doubledot: \n * @returns {string} querySelector\n */\nfunction miniQuerySelector(doubledot) {\n  let [q, ...attrs] = doubledot.split(\"_\");\n  for (let i = 0; i <= attrs.length - 1; i += 2) {\n    const name = attrs[i].replaceAll(\"..\", \"\\\\:\");\n    const val = i <= attrs.length ? `$=\"${attrs[i + 1]}\"` : \"\";\n    q += `[${name}${val}]`;\n  }\n  return q;\n};\n\nfunction* up(el, q = \"*\") {\n  for (let p = el.parentElement; p; p = p.parentElement)\n    if (q === \"*\" || p.matches(q))\n      yield p;\n}\nfunction* left(el, q = \"*\") {\n  for (let s = el.previousElementSibling; s; s = s.previousElementSibling)\n    if (q === \"*\" || s.matches(q))\n      yield s;\n}\nfunction* right(el, q = \"*\") {\n  for (let s = el.nextElementSibling; s; s = s.nextElementSibling)\n    if (q === \"*\" || s.matches(q))\n      yield s;\n}\nfunction* roots(el) {\n  for (let r = el.getRootNode(); r; r = r.host?.getRootNode())\n    yield r;\n}\nfunction* hosts(el, q = \"*\") {\n  for (let h = el.getRootNode().host; h; h = h.getRootNode().host)\n    if (q === \"*\" || h.matches(q))\n      yield h;\n}\nfunction* downwide(el, q = \"*\") {\n  for (let d, queue = [...el.children]; d = queue.shift(); queue.push(...el.children))\n    if (q === \"*\" || d.matches(q))\n      yield d;\n}\n\nclass DoubleDotsError extends Error {\n  constructor(msg, at) {\n    super(msg);\n    //todo handle at\n  }\n}\n\nclass ThisArrowFunctionError extends DoubleDotsError {\n  constructor(Func) {\n    super(\"arrow function with `this`.\");\n  }\n  static check(Definition) {\n    // if(Definition.hasOwnProperty('prototype'))  //better alternative than a\n    //   return false;\n    let txt = Definition.toString();\n    if (!/^(async\\s+|)(\\(|[^([]+=)/.test(txt))  //alternative a\n      return;\n    txt = txt.replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, ''); //remove comments\n    //ATT!! `${\"`\"}this` only works when \"\" is removed before ``\n    txt = txt.replace(/([\"'])(?:(?=(\\\\?))\\2.)*?\\1/g, '');   //remove \"'-strings\n    txt = txt.replace(/(`)(?:(?=(\\\\?))\\2.)*?\\1/g, '');   //remove `strings\n    if (/\\bthis\\b/.test(txt))                      //the word this\n      throw new ThisArrowFunctionError(Definition);\n  }\n}\n\nwindow.DoubleDots = {\n  nativeMethods,\n  monkeyPatch,\n\n  DoubleDotsError,\n  ThisArrowFunctionError,\n  DeprecationError: class DeprecationError extends DoubleDotsError { },\n  MissingReaction: class MissingReaction extends DoubleDotsError { },\n  DisconnectedError: class DisconnectedError extends DoubleDotsError { },\n  TriggerUpgradeError: class TriggerUpgradeError extends DoubleDotsError {\n    constructor(at, error) {\n      super(at);\n      //todo\n    }\n\n  },\n  AttrWeakSet,\n  nextTick,\n  sleep,\n  nativeEvents,\n  kebabToPascal,\n  pascalToKebab,\n  up, left, right, roots, hosts, downwide,\n  importBasedEval,\n  miniQuerySelector\n};\n", "class AttrCustom extends Attr {\n\n  // Interface\n  // set value(newValue) { const oldValue = super.value; super.value = newValue; ... }\n  // upgrade(){ super.upgrade(); ... }\n  // remove(){ ...; super.remove() }\n\n  static #makeRT(at) {\n    let [trigger, ...reactions] = at.name.split(\":\");\n    reactions.length === 1 && !reactions[0] && reactions.pop();\n    Object.defineProperties(at, {\n      \"trigger\": { value: trigger, enumerable: true },\n      \"reactions\": { value: Object.freeze(reactions), enumerable: true },\n    });\n  }\n\n  toJSON() {\n    const { id, trigger, reactions, value, initDocument } = this;\n    return { id, trigger, reactions, value, initDocument };\n  }\n\n  get trigger() {\n    return AttrCustom.#makeRT(this), this.trigger;\n  }\n\n  get reactions() {\n    return AttrCustom.#makeRT(this), this.reactions;\n  }\n\n  isConnected() {\n    return this.ownerElement.isConnected();\n  }\n\n  getRootNode(...args) {\n    return this.ownerElement?.getRootNode(...args);\n  }\n\n  remove() {\n    return this.ownerElement.removeAttribute(this.name);\n  }\n\n  //todo remove this and only use eventLoop.dispatchBatch(e, attrs);\n  dispatchEvent(e) {\n    if (!this.isConnected)\n      throw new DoubleDots.ReactionError(\"dispatch on disconnected attribute.\");\n    eventLoop.dispatch(e, this);\n  }\n\n  static upgradeBranch(...els) {\n    for (let el of els) {\n      if (el instanceof Element)\n        this.upgradeElementRoot(el);\n      else if (el instanceof DocumentFragment)\n        for (let c of el.children)\n          this.upgradeElementRoot(c);\n    }\n    //todo we don't want to run the eventLoop until all the attr are upgraded.\n  }\n\n  static upgradeElementRoot(el) {\n    for (let at of el.attributes)\n      if (at.name.includes(\":\"))\n        AttrCustom.upgrade(at);\n    for (let c of el.children)\n      this.upgradeElementRoot(c);\n    // for (let desc of el.querySelectorAll(\"*\"))\n    //   for (let at of desc.attributes)\n    //     if (at.name.includes(\":\"))\n    //       AttrCustom.upgrade(at);\n  }\n\n  static #ids = 0;\n  static errorMap = new Map();\n  static upgrade(at, Def) {\n    //the single place to catch trigger errors.\n    //when triggers error, we add the error in the dom, so that it is trace\n    try {\n      Def ??= at.ownerElement.getRootNode().Triggers.get(at.name.split(\":\")[0], at);\n      if (Def instanceof Promise) {\n        Object.setPrototypeOf(at, AttrUnknown.prototype);\n        Def.then(Def => AttrCustom.upgrade(at, Def))\n          .catch(err => { AttrCustom.errorMap.set(at, err); throw err; });\n        return;\n      }\n      Object.setPrototypeOf(at, Def.prototype);\n      Object.defineProperties(at, {\n        \"id\": { value: this.#ids++, enumerable: true },\n        \"initDocument\": { value: at.getRootNode(), enumerable: true }\n      });\n      DoubleDots.cube?.(\"attr\", at);\n      at.upgrade?.();\n      at.value && (at.value = at.value);\n    } catch (err) {\n      AttrCustom.errorMap.set(at, err);\n      throw err;\n    }\n  }\n}\nclass AttrImmutable extends AttrCustom {\n  remove() { /* cannot be removed */ }\n  //set value() { /* cannot be changed */ }\n  //get value() { return super.value; }\n}\n\nclass AttrUnknown extends AttrCustom { }\n\nconst stopProp = Event.prototype.stopImmediatePropagation;\nconst addEventListenerOG = EventTarget.prototype.addEventListener;\nconst removeEventListenerOG = EventTarget.prototype.removeEventListener;\n\nconst listenerReg = {};\nObject.defineProperty(Event, \"activeListeners\", {\n  enumerable: true,\n  value: function activeListeners(name) {\n    return listenerReg[name];\n  }\n});\n\nclass AttrListener extends AttrCustom {\n  upgrade() {\n    Object.defineProperty(this, \"__l\", { value: this.run.bind(this) });\n    addEventListenerOG.call(this.target, this.type, this.__l, this.options);\n    listenerReg[this.type] = (listenerReg[this.type] || 0) + 1;\n  }\n\n  remove() {\n    listenerReg[this.type] -= 1;\n    removeEventListenerOG(this.target, this.type, this.__l, this.options);\n    super.remove();\n  }\n\n  get target() {\n    return this.ownerElement;\n  }\n\n  get type() {\n    return this.trigger;\n  }\n\n  // get options(){ \n  //   return undefined; this is redundant to implement\n  // }\n\n  run(e) {\n    // !this.isConnected && this.remove();\n    eventLoop.dispatch(e, this);\n  }\n}\n\nclass AttrListenerGlobal extends AttrListener {\n\n  // We can hide the triggers in JS space. But this makes later steps much worse.\n  //\n  // static #triggers = new WeakMap();\n  // get register() {\n  //   let dict = AttrListenerGlobal.#triggers.get(this.target);\n  //   !dict && AttrListenerGlobal.#triggers.set(this.target, dict = {});\n  //   return dict[this.trigger] ??= DoubleDots.AttrWeakSet();\n  // }\n\n  get register() {\n    let dict = this.target.triggers;\n    if (!dict)\n      Object.defineProperty(this.target, \"triggers\", { value: dict = {} });\n    return dict[this.trigger] ??= new DoubleDots.AttrWeakSet();\n  }\n\n  get target() {\n    return window;\n  }\n\n  upgrade() {\n    super.upgrade();\n    this.register.add(this);\n  }\n\n  remove() {\n    this.register.delete(this);\n    super.remove();\n  }\n\n  run(e) {\n    // if (!this.isConnected)\n    //   return this.remove();\n    stopProp.call(e);\n    // eventLoop.dispatch(e, ...this.register);\n    eventLoop.dispatchBatch(e, this.register);\n  }\n}\n\nclass AttrEmpty extends AttrCustom {\n  upgrade() { eventLoop.dispatch(new Event(this.trigger), this); }\n};\n\n/**\n * AttrMutation is the only needed main base for MutationObserver.\n * With AttrMutation we can deprecate MutationObserver.\n * All other MutationObserver triggers should use AttrMutation.\n */\nclass AttrMutation extends AttrCustom {\n  upgrade() {\n    const observer = new MutationObserver(this.run.bind(this));\n    Object.defineProperty(this, \"observer\", { value: observer });\n    this.observer.observe(this.target, this.settings);\n  }\n\n  remove() {\n    this.observer.disconnect();\n    super.remove();\n  }\n\n  get target() {\n    return this.ownerElement;\n  }\n\n  get settings() {\n    return { attributes: true, attributesOldValue: true };\n  }\n\n  run(mrs) {\n    for (let mr of mrs)\n      eventLoop.dispatch(mr, this); //one event per attribute changed.\n  }\n}\n\n/**\n * works out of the box using:\n * \n * documents.Triggers.define(\"content-box\", AttrResize);\n * documents.Triggers.define(\"border-box\", AttrResize);\n * documents.Triggers.define(\"device-pixel-content-box\", AttrResize);\n */\nclass AttrResize extends AttrCustom {\n  upgrade() {\n    const observer = new ResizeObserver(this.run.bind(this));\n    Object.defineProperty(this, \"observer\", { value: observer });\n    this.observer.observe(this.ownerElement, this.settings);\n  }\n\n  remove() {\n    this.observer.disconnect();\n    super.remove();\n  }\n\n  get settings() {\n    return { box: this.trigger };\n  }\n\n  run(entries) {\n    eventLoop.dispatch(entries, this);\n  }\n}\n\n/**\n * AttrIntersection is the main base for IntersectionObserver.\n * With AttrIntersection we can deprecate IntersectionObserver.\n * All other IntersectionObserver triggers should use AttrIntersection.\n */\nclass AttrIntersection extends AttrCustom {\n  upgrade() {\n    const observer = new IntersectionObserver(this.run.bind(this));\n    Object.defineProperty(this, \"observer\", { value: observer });\n    this.observer.observe(this.ownerElement, this.settings);\n  }\n\n  stop() {\n    this.observer.disconnect();\n  }\n\n  remove() {\n    this.stop();\n    super.remove();\n  }\n\n  // get settings() {\n  //   return { threshold: 0.0, root: null, rootMargin: '0px 0px 0px 0px' };\n  // }\n\n  run([mr]) {\n    //todo add a native event listener for the DOMContentLoaded or readystatechange?\n    //todo and then ensure that the inview is called on all elements that are then inview?\n    //should we await sleep() on it??\n    document.readyState === \"complete\" && eventLoop.dispatch(mr, this);\n  }\n}\n\nObject.assign(window, {\n  AttrListener,\n  AttrListenerGlobal,\n  AttrCustom,\n  AttrImmutable,\n  AttrUnknown,\n  AttrEmpty,\n  AttrMutation,\n  AttrIntersection,\n  AttrResize\n});", "class DefinitionError extends DoubleDots.DoubleDotsError {\n  constructor(msg, fullname, rule, RuleFun) {\n    super(msg);\n    this.fullname = fullname;\n    this.rule = rule;\n    this.RuleFun = RuleFun;\n  }\n}\n\nclass TriggerNameError extends DefinitionError {\n  constructor(fullname) {\n    super(`Trigger name/prefix must begin with english letter or '_'.\\n${fullname} begins with '${fullname[0]}'.`);\n  }\n\n  static check(name) {\n    if (!name.match(/[a-z_].*/))\n      throw new TriggerNameError(name);\n  }\n}\n\nclass DefinitionNameError extends DefinitionError {\n  constructor(name) {\n    super(`DoubleDots definition names and rule prefixes can only contain /^[a-z0-9_\\.-]*$/: ${name}`);\n  }\n  static check(name) {\n    if (!name.match(/^[a-z0-9_\\.-]*$/))\n      throw new DefinitionNameError(name);\n  }\n}\n\nclass AsyncDefinitionError extends DefinitionError {\n  constructor(msg, fullname, rule, RuleFun) {\n    super(msg, fullname, rule, RuleFun);\n    //side-effect in constructor!!\n    document.documentElement.dispatchEvent(new ErrorEvent(this));\n  }\n}\n\nObject.assign(DoubleDots, {\n  DefinitionError,\n  TriggerNameError,\n  DefinitionNameError,\n  AsyncDefinitionError\n});\n\nclass DefinitionsMap {\n\n  #root;\n  #type;\n  constructor(root, type) {\n    this.#root = root;\n    this.#type = type;\n  }\n\n  get root() {\n    return this.#root;\n  }\n\n  get type() {\n    return this.#type;\n  }\n\n  #definitions = {};\n  #rules = {};\n\n  #setRule(name, Def) {\n    DoubleDots.cube?.(\"defineRule\", { type: this.#type, root: this.#root, name, Def });\n    return this.#rules[name] = Def;\n  }\n\n  #setDef(name, Def) {\n    DoubleDots.cube?.(\"define\", { type: this.#type, root: this.#root, name, Def });\n    return this.#definitions[name] = Def;\n  }\n\n  defineRule(prefix, FunFun) {\n    //FunFun can be either a Function that given the prefix will produce either a class or a Function.\n    //FunFun can also be a Promise.\n    DefinitionNameError.check(prefix);\n    for (let r of Object.keys(this.#rules))\n      if (r.startsWith(prefix) || prefix.startsWith(r))\n        throw new DefinitionError(`rule/rule conflict: trying to add '${prefix}' when '${r}' exists.`);\n    for (let fullname of Object.keys(this.#definitions))\n      if (fullname.startsWith(prefix))\n        throw new DefinitionError(`rule/name conflict: trying to add '${prefix}' when '${fullname}' exists.`);\n    // this.#ruleRE = new RegExp(`^(${Object.keys(this.#rules).join(\"|\")}).*`, \"g\");\n    this.#setRule(prefix, FunFun);\n    FunFun instanceof Promise && FunFun\n      .then(newFunFun => this.#setRule(prefix, newFunFun))\n      .catch(err => this.#setRule(prefix, new AsyncDefinitionError(err, null, prefix)));\n  }\n\n  define(fullname, Def) {\n    //Def can be either a class or a Function.\n    //Def can also be a Promise.\n    DefinitionNameError.check(fullname);\n    if (fullname in this.#definitions)\n      throw new DefinitionError(`name/name conflict: '${fullname}' already exists.`);\n    for (let r of Object.keys(this.#rules))\n      if (fullname.startsWith(r))\n        throw new DefinitionError(`name/rule conflict: trying to add '${fullname}' when rule '${r}' exists.`);\n    this.#setDef(fullname, Def);\n    Def instanceof Promise && Def\n      .then(newDef => this.#setDef(fullname, newDef))\n      .catch(err => this.#setDef(fullname, new AsyncDefinitionError(err, fullname)));\n  }\n\n  #processRule(fullname, rule, FunFun) {\n    if (FunFun instanceof Promise)\n      return this.#definitions[fullname] = FunFun\n        .then(newFunFun => (FunFun = newFunFun)(fullname))\n        .catch(err => new AsyncDefinitionError(err, null, rule, null))\n        .then(newDef => this.#setDef(fullname, newDef))\n        .catch(err => this.#setDef(fullname, new AsyncDefinitionError(err, fullname, rule, FunFun)));\n\n    try {\n      if (FunFun instanceof Error)\n        throw FunFun;\n      const Def = this.#setDef(fullname, FunFun(fullname));\n      Def instanceof Promise && Def\n        .then(newDef => this.#setDef(fullname, newDef))\n        .catch(err => this.#setDef(fullname, new AsyncDefinitionError(err, fullname, rule, FunFun)));\n      return Def;\n    } catch (err) {\n      throw this.#setDef(fullname, new DefinitionError(err, fullname, rule, FunFun));\n    }\n  }\n\n  #checkViaRule(fullname) {\n    // alternative logic using a regex to match the name. Not sure this is better\n    // for (let [_, prefix] of fullname.matchAll(this.#ruleRE))\n    //   return this.#definitions[fullname] = this.#rules[prefix](fullname);\n    for (let [rule, FunFun] of Object.entries(this.#rules))\n      if (fullname.startsWith(rule))\n        return this.#processRule(fullname, rule, FunFun);\n  }\n\n  get(fullname) {\n    return this.#definitions[fullname] || this.#checkViaRule(fullname);\n  }\n}\n\n/**\n * Whenever you request an unknown definition, \n * you get an UnknownDefinition Promise.\n * When later a matching definition is added,\n * this promise will resolve with the new definition.\n * If this promise is rejected from the outside,\n * The UnknownDefinitionsMap will automatically clean\n * itself up.\n * \n * To avoid memory leaks with !isConnected attributes,\n * a 10sec loop checks the UnknownDefinitions and removes \n * any disconnected Promises.\n */\nclass UnknownDefinition extends Promise {\n  static make(attr) {\n    let resolve, reject;\n    const promise = new UnknownDefinition((a, b) => {\n      resolve = a;\n      reject = b;\n    });\n    return Object.assign(promise, { resolve, reject, attr });\n  }\n}\n\nconst setTimeoutOG = setTimeout;\nclass PromiseMap {\n  unknowns = {};\n  #interval;\n\n  make(fullname, attr) {\n    const p = UnknownDefinition.make(attr);\n    (this.unknowns[fullname] ??= []).push(p);\n    p.catch(_ => this.remove(fullname, p));\n    this.#interval || this.#cleanLoop();\n    return p;\n  }\n\n  async #cleanLoop() {\n    this.#interval = true;\n    while (true) {\n      await new Promise(r => setTimeoutOG(r, 10000));\n      const all = Object.entries(this.unknowns);\n      if (!all.length)\n        return this.#interval = false;\n      for (let [fullname, promises] of all)\n        for (let p of promises.filter(p => !p.attr.isConnected))\n          this.remove(fullname, p);\n    }\n  }\n\n  remove(fullname, p) {\n    const promises = this.unknowns[fullname];\n    if (!promises)\n      return;\n    const i = promises.indexOf(p);\n    if (i < 0)\n      return;\n    promises.splice(i, 1);\n    !promises.length && delete this.unknowns[fullname];\n  }\n\n  complete(fullname) {\n    const promises = this.unknowns[fullname];\n    delete this.unknowns[fullname];\n    for (let p of promises || [])\n      try { p.resolve(); } catch (_) { } //Att!! handle errors outside\n  }\n  completeRule(rule) {\n    for (let fullname in this.unknowns)\n      if (fullname.startsWith(rule))\n        this.complete(fullname);\n  }\n}\n\nclass UnknownDefinitionsMap extends DefinitionsMap {\n  #unknowns = new PromiseMap();\n  define(fullname, Def) {\n    super.define(fullname, Def);\n    this.#unknowns.complete(fullname);\n  }\n\n  defineRule(rule, FunClass) {\n    super.defineRule(rule, FunClass);\n    this.#unknowns.completeRule(rule);\n  }\n\n  //todo add attr\n  get(fullname, attr) {\n    return super.get(fullname) ?? this.#unknowns.make(fullname, attr);\n  }\n}\n\nclass DefinitionsMapLock extends DefinitionsMap {\n  #lock;\n  defineRule(rule, FunFun) {\n    if (this.#lock)\n      throw new DefinitionError(\"ShadowRoot too-late definition error for rule: \" + rule);\n    return super.defineRule(rule, FunFun);\n  }\n\n  define(name, Def) {\n    if (this.#lock)\n      throw new DefinitionError(\"ShadowRoot too-late definition error for definition: \" + name);\n    return super.define(name, Def);\n  }\n\n  get(name, attr) {\n    this.#lock = true;\n    return super.get(name, attr);\n  }\n}\n\n//this map inherits\nclass DefinitionsMapDOM extends DefinitionsMapLock {\n  get parentMap() {\n    return this.root.host?.getRootNode()?.[this.type];\n  }\n\n  get(name, attr) {\n    return super.get(name, attr) ?? this.parentMap.get(name, attr);\n  }\n}\n\nclass DefinitionsMapDOMOverride extends DefinitionsMapDOM {\n\n  #cache = {};\n  #rule;\n\n  /**\n   * \"name|prefix.*|another-name|prefix2_.*\"\n   * and is simply wrapped in ^(...) to complete the regex query.\n   */\n  get rule() {\n    if (this.#rule !== undefined)\n      return this.#rule;\n    const rider = this.root.host.getAttribute(\"override-\" + this.type.toLowerCase());\n    return this.#rule = rider && new RegExp(`^(${rider})$`);\n  }\n\n  /**\n   * @param {string} name \n   * @returns {Definition} if the name has been overridden above.\n   */\n  overrides(name, attr) {\n    return this.#cache[name] ??= this.parentMap?.overrides?.(name, attr) || this.rule?.exec(name) && super.get(name, attr);\n  }\n\n  /**\n   * First, we check if there is an override root. If there is, we redirect the query directly to that root instead.\n   * Second, we try to use our own definitions, and then inherited definitions.\n   * @param {string} name \n   * @returns DefinitionsMap from the document that overrides the definition name \n   */\n  get(name, attr) {\n    return this.overrides(name, attr) || super.get(name, attr);\n  }\n}\n\nfunction TriggerSyntaxCheck(DefMap) {\n  return class TriggerMap extends DefMap {\n    defineRule(prefix, FunFun) {\n      TriggerNameError.check(prefix);\n      super.defineRule(prefix, FunFun);\n    }\n\n    define(fullname, Def) {\n      TriggerNameError.check(fullname);\n      super.define(fullname, Def);\n    }\n  };\n}\n\nfunction ReactionThisInArrowCheck(DefMap) { //todo add this to Reaction maps?\n  return class ReactionMapNoThisInArrow extends DefMap {\n    define(fullname, Def) {\n      DoubleDots.ThisArrowFunctionError.check(Def);\n      super.define(fullname, Def);\n    }\n  };\n}\n\n\nObject.defineProperties(Document.prototype, {\n  Reactions: {\n    get: function () {\n      const map = new UnknownDefinitionsMap(this, \"Reactions\");\n      Object.defineProperty(this, \"Reactions\", { value: map, enumerable: true });\n      return map;\n    }\n  },\n  Triggers: {\n    configurable: true,\n    get: function () {\n      const TriggerMap = TriggerSyntaxCheck(UnknownDefinitionsMap);\n      const map = new TriggerMap(this, \"Triggers\");\n      Object.defineProperty(this, \"Triggers\", { value: map, enumerable: true });\n      return map;\n    }\n  }\n});\nObject.defineProperties(ShadowRoot.prototype, {\n  Reactions: {\n    configurable: true,\n    get: function () {\n      const map = new DefinitionsMapDOMOverride(this, \"Reactions\");\n      Object.defineProperty(this, \"Reactions\", { value: map, enumerable: true });\n      return map;\n    }\n  },\n  Triggers: {\n    configurable: true,\n    get: function () {\n      const TriggerMap = TriggerSyntaxCheck(DefinitionsMapDOMOverride);\n      const map = new TriggerMap(this, \"Triggers\");\n      Object.defineProperty(this, \"Triggers\", { value: map, enumerable: true });\n      return map;\n    }\n  }\n});\n\ndocument.Triggers.define(\"_\", AttrEmpty);\n\nObject.assign(DoubleDots, {\n  DefinitionsMap,\n  DefinitionsMapLock,\n  DefinitionsMapDOM,\n  DefinitionsMapDOMOverride,\n  UnknownDefinitionsMap,\n  UnknownDefinition,\n});\n", "Event.data = Symbol(\"Event data\");\nclass EventLoopError extends DoubleDots.DoubleDotsError { }\n\nclass MicroFrame {\n  #i = 0;\n  #inputs;\n\n  constructor(event, at) {\n    this.at = at;\n    this.event = event;\n    this.#inputs = [event[Event.data] ?? event];\n  }\n\n  toJSON() {\n    return { at: this.at, event: this.event, inputs: this.#inputs, i: this.#i };\n  }\n\n  isConnected() {\n    return this.at.isConnected();\n  }\n\n  getReaction() {\n    return this.at.reactions[this.#i];\n  }\n\n  getReactionIndex() {\n    return this.#i;\n  }\n\n  /**\n   * @returns <undefined> when the task is emptied, or is awaiting in async mode, \n   * which both means that the event loop can continue.\n   * @returns <this> current task when the task is not emptied \n   * and we must wait for it in sync mode.\n   */\n  run(threadMode = false) {\n    for (let re = this.getReaction(); re !== undefined; re = this.getReaction()) {\n      //1. process native reactions\n      if (re === \"\") {\n        threadMode = true;\n        this.#runSuccess(this.#inputs[0]);\n        continue;\n      }\n      //todo this one\n      if (re.startsWith(\"catch\"))\n        continue;\n\n      //2. check isConnected\n      try {\n        if (!this.at.isConnected)\n          throw new EventLoopError(\"Disconnected: \" + this.at);\n        //todo should this be an error??\n\n        const func = this.at.initDocument.Reactions.get(re, this.at);\n        if (func instanceof Promise) {\n          if (threadMode) {\n            func.then(_ => __eventLoop.asyncContinue(this))\n              .catch(error => this.#runError(error));\n            return; //continue outside loop\n          } else if (func instanceof DoubleDots.UnknownDefinition) {\n            return this.#runError(new EventLoopError(\"Reaction not defined: \" + re));\n            //RulePromise, DefinitionPromise\n          } else {\n            func.then(_ => __eventLoop.syncContinue());\n            //todo these sync delays needs to have a max timeout.\n            //todo thus, we need to have some max timers\n            return this; //halt outside loop\n          }\n        }\n        const res = func.apply(this.at, this.#inputs);\n        this.#inputs.unshift(res);\n        if (res instanceof Promise) {\n          if (threadMode) {\n            res.then(oi => this.#runSuccess(oi))\n              .catch(error => this.#runError(error))\n              .finally(_ => __eventLoop.asyncContinue(this));\n            return; //continue outside loop\n          } else {\n            res.then(oi => this.#runSuccess(oi))\n              .catch(error => this.#runError(error))\n              .finally(_ => __eventLoop.syncContinue());\n            //todo these sync delays needs to have a max timeout.\n            //todo thus, we need to have some max timers\n            return this; //halt outside loop\n          }\n        }\n        this.#runSuccess(res);\n      } catch (error) {\n        this.#runError(error);\n      } finally {\n        //todo update the loop and res here,\n      }\n      //todo or here?\n    }\n  }\n\n  #runError(error) {\n    console.error(error);\n    this.#inputs[0] = error;\n    const catchKebab = \"catch_\" + error.constructor.name.replace(/[A-Z]/g, '-$&').toLowerCase();\n    for (this.#i++; this.#i < this.at.reactions.length; this.#i++)\n      if (this.at.reactions[this.#i] === \"catch\" || this.at.reactions[this.#i] === catchKebab)\n        return;\n\n    // this.#i = this.at.reactions.length;\n    const target = this.at.isConnected ? this.at.ownerElement : document.documentElement;\n    //todo add the at + reactionIndex + self + input to the ErrorEvent, so that we know which attribute caused the error\n    //todo or just the at, and then just read the data from the _eventLoop?\n    target.dispatchEvent(new ErrorEvent(\"error\", { error }));\n  }\n\n  #runSuccess(res) {\n    this.#inputs[0] = res;\n    this.#i = res === EventLoop.Break ? this.at.reactions.length : this.#i + 1;\n  }\n}\n\nclass __EventLoop {\n  #stack = [];\n  #syncTask;\n  task;\n\n  //todo clean the continue process. but do so after testing framework is up and running\n  syncContinue() {\n    this.task = this.#syncTask;\n    DoubleDots.cube?.(\"task-sync\", this.task);\n    this.#syncTask = this.task.run();\n    this.#loop();\n  }\n\n  //asyncContinue is allowed while we are waiting for the sync task\n  asyncContinue(task) {\n    DoubleDots.cube?.(\"task-async\", task);\n    (this.task = task).run(true);\n    this.#loop();\n  }\n\n  #loop() {\n    while (!this.#syncTask && this.#stack[0]) {\n      const { event, iterator } = this.#stack[0];\n      for (let attr of iterator) {\n        this.task = new MicroFrame(event, attr);\n        //if task.run() not emptied, abort to halt eventloop\n        if (this.#syncTask = this.task.run())\n          return DoubleDots.cube?.(\"task-sync-break\", this.#syncTask);\n        DoubleDots.cube?.(\"task\", this.task);\n      }\n      this.#stack.shift();\n    }\n    return DoubleDots.cube?.(\"task-empty\", {});\n  }\n\n  batch(event, iterable) {\n    const iterator = iterable[Symbol.iterator]();\n    if (this.#stack.push({ event, iterator }) === 1)\n      this.#loop();\n    else\n      DoubleDots.cube?.(\"task-queued\", {});\n  }\n}\n\nglobalThis.__eventLoop = new __EventLoop();\n\n//external interface\nclass EventLoop {\n\n  static Break = {};\n\n  static SpreadReaction = function (fun) {\n    return function SpreadReaction(oi) {\n      return oi instanceof Iterable ?\n        fun.call(this, ...oi) :\n        fun.call(this, oi);\n      // if (oi instanceof Iterable)\n      //   return fun.call(this, ...oi);\n      // throw new DoubleDotsSpreadReactionError(\"SpreadReactions must be passed a spreadable oi argument\");\n    };\n  };\n\n  //todo freeze the SpreadReaction, Break.\n  get event() { return __eventLoop.task?.event; }\n  get attribute() { return __eventLoop.task?.at; }\n  get reaction() { return __eventLoop.task?.getReaction(); }\n  get reactionIndex() { return __eventLoop.task?.getReactionIndex() ?? -1; }\n\n  dispatch(event, attr) {\n    __eventLoop.batch(event, [attr]);\n  }\n\n  //todo rename to propagate\n  dispatchBatch(event, iterable) {\n    __eventLoop.batch(event, iterable);\n  }\n};\nObject.defineProperty(window, \"eventLoop\", { value: new EventLoop() });\nDoubleDots.EventLoopError = EventLoopError;\nwindow.EventLoop = EventLoop;", "import { monkeyPatch } from \"./1_DoubleDots.js\";\nconst Specializers = {\n  \"DocumentFragment.prototype.cloneNode\": Node.prototype.cloneNode,\n  \"HTMLTemplateElement.prototype.insertAdjacentHTML\": Element.prototype.insertAdjacentHTML,\n  \"HTMLTemplateElement.prototype.innerHTML\": Object.getOwnPropertyDescriptor(Element.prototype, \"innerHTML\").set,\n};\nfor (let [path, superior] of Object.entries(Specializers))\n  monkeyPatch(path, superior);\n\n// const state = [...document.querySelectorAll(\"*\")];\n//1. Since the DoubleDots is the only script.\n//   The DoubleDots then runs so, we can just iterate on the main document.\n//   Listen for the native DCL, and then upgrade the branch of the document.\n//2. the adding HTML template methods. innerHTML + insertAdjacentHTML.\n//3. setAttribute.\n//   remember to disallow override-x attribute names immutable. Anything that starts with `override-` is illegal from setAttribute? yes.\n//4. AttrUnknown upgradeUpgrade\n//   1. It can only happen when new Trigger Defs are added to the main document.Triggers. \n//      This is because the shadowRoot.Triggers are locked post register time.\n//5. WaitForItAttr. Promise Definitions.\n\n(function (Element_p, ShadowRoot_p) {\n  const Element_innerHTML_OG = Object.getOwnPropertyDescriptor(Element_p, \"innerHTML\").set;\n  const innerHTML_DD_el = function innerHTML_DD(val) {\n    Element_innerHTML_OG.call(this, val);\n    AttrCustom.upgradeBranch(...this.children); //todo untested fix from project\n  };\n\n  const ShadowRoot_innerHTML_OG = Object.getOwnPropertyDescriptor(ShadowRoot_p, \"innerHTML\").set;\n  const innerHTML_DD_sr = function innerHTML_DD(val) {\n    ShadowRoot_innerHTML_OG.call(this, val);\n    AttrCustom.upgradeBranch(...this.children); //todo untested fix from project\n  };\n\n  const insertAdjacentHTMLOG = Element_p.insertAdjacentHTML;\n  function insertAdjacentHTML_DD(position, ...args) {\n    //todo test the different versions here\n    let root, index;\n    if (position === \"afterbegin\")\n      root = this, index = 0;\n    else if (position === \"beforeend\")\n      root = this, index = this.children.length;\n    else if (position === \"beforebegin\")\n      root = this.parentNode, index = Array.prototype.indexOf.call(root.children, this);\n    else if (position === \"afterend\")\n      root = this.parentNode, index = Array.prototype.indexOf.call(root.children, this) + 1;\n    const childCount = root.children.length;\n    insertAdjacentHTMLOG.call(this, position, ...args);\n    const addCount = root.children.length - childCount;\n    const newRoots = Array.from(root.children).slice(index, index + addCount);\n    AttrCustom.upgradeBranch(...newRoots);\n  }\n\n  const setAttributeOG = Element_p.setAttribute;\n  const getAttributeNodeOG = Element_p.getAttributeNode;\n  function setAttribute_DD(name, value) {\n    //0. syntax error for \"override-\"\n    if (name.startsWith(\"override-\"))\n      throw new SyntaxError(\"You can only set [override-xyz] attributes on elements in HTML template: \" + name);\n    //1. treat the normal normal\n    if (!name.includes(\":\"))\n      return setAttributeOG.call(this, name, value);\n    //2. if the name is DoubleDots\n    let at = getAttributeNodeOG.call(this, name);\n    if (at) {\n      at.value !== value && (at.value = value);\n      return;\n    }\n    setAttributeOG.call(this, name, value);\n    at = getAttributeNodeOG.call(this, name);\n    AttrCustom.upgrade(at);\n  }\n  const mainOverrides = {\n    \"Element.prototype.innerHTML\": innerHTML_DD_el,\n    \"ShadowRoot.prototype.innerHTML\": innerHTML_DD_sr,\n    \"Element.prototype.insertAdjacentHTML\": insertAdjacentHTML_DD,\n    \"Element.prototype.setAttribute\": setAttribute_DD,\n  };\n  for (let [path, func] of Object.entries(mainOverrides))\n    monkeyPatch(path, func);\n})(Element.prototype, ShadowRoot.prototype);\n\n(function () {\n  //todo we need the innerHTML and insertAdjacentHTML and setAttribute to be added to the nativeMethods.\n\n  const EMPTY = [];\n  //JS injections is allowed when we\n  //1) move elements within the same rootNode (no upgrade of AttrCustom)\n  //2) move elements from one DocumentFragment to another (no upgrade of AttrCustom)\n  //3) inject elements *from* DocumentFragments to an .isConnected element (DO upgrade of AttrCustom)\n  //* otherwise just fail.\n  function checkRoot(root, child, r = root.getRootNode(), cr = child?.getRootNode()) {\n    if (root.isConnected && child instanceof DocumentFragment)\n      return [...child.children];\n    if (root.isConnected && (child instanceof Element) && (cr instanceof DocumentFragment))\n      return [child];\n    if (!(child instanceof Element) || cr === r || (cr instanceof DocumentFragment && r instanceof DocumentFragment))\n      return EMPTY;\n    throw new DoubleDots.InsertElementFromJSError(root, child);\n  }\n\n  function sameRootFirstArg(child) {\n    return checkRoot(this, child);\n  }\n  function sameRootSecond(_, child) {\n    return checkRoot(this, child);\n  }\n  function sameRootSpreadArg(...args) {\n    const r = this.getRootNode();\n    return args.map(child => checkRoot(this, child, r)).flat();\n  }\n\n  function verifyAndUpgrade(OG, verify) {\n    return function (...args) {\n      const upgrades = verify.call(this, ...args);\n      const res = OG.apply(this, args);\n      upgrades.length && AttrCustom.upgradeBranch(...upgrades);\n      return res;\n    };\n  }\n\n  const Mask = {\n    \"Node.prototype.insertBefore\": sameRootFirstArg,\n    \"Node.prototype.appendChild\": sameRootFirstArg,\n    \"Element.prototype.after\": sameRootSpreadArg,\n    \"Element.prototype.before\": sameRootSpreadArg,\n    \"Element.prototype.insertAdjacentElement\": sameRootSecond,\n    \"Element.prototype.append\": sameRootSpreadArg,\n    \"Element.prototype.prepend\": sameRootSpreadArg,\n    \"Document.prototype.append\": sameRootSpreadArg,\n    \"Document.prototype.prepend\": sameRootSpreadArg,\n    \"DocumentFragment.prototype.append\": sameRootSpreadArg,\n    \"DocumentFragment.prototype.prepend\": sameRootSpreadArg,\n    //replaceChild\n  };\n\n  for (let [path, verify] of Object.entries(Mask))\n    monkeyPatch(path,\n      verifyAndUpgrade(path.split(\".\").reduce((o, p) => o[p], window), verify));\n})();\n\nexport function loadDoubleDots(aelOG) {\n  if (document.readyState !== \"loading\")\n    return AttrCustom.upgradeBranch(document.htmlElement);\n  aelOG.call(document, \"DOMContentLoaded\", _ => AttrCustom.upgradeBranch(document.documentElement));\n}", "async function loadDef(url, lookup) {\n  const module = await import(url);\n  if (!module || typeof module !== \"object\" && !(module instanceof Object))\n    throw new TypeError(`URL is not an es6 module: ${this.url}`);\n  const def = module[lookup];\n  if (def) return def;\n  for (let [k, v] of Object.entries(module))\n    if (k.startsWith(\"dynamic\"))\n      if (v[lookup])\n        return v[lookup];\n  throw new TypeError(`ES6 module doesn't contain resource: ${lookup}`);\n}\n\nfunction* parse(url) {\n  const hashSearch = (url.hash || url.search).slice(1);\n  if (!hashSearch)\n    throw DoubleDots.SyntaxError(\"Missing DoubleDots.Reference in url: \" + url);\n  const refs = hashSearch.entries?.() ?? hashSearch.split(\"&\").map(s => s.split(\"=\"));\n  for (let [name, value] of refs)\n    yield* parseEntities(name, value);\n}\n\nfunction* parseEntities(key, value) {\n  const m = key.match(\n    /^([_.-]*)(?:([A-Z]{2}[A-Z0-9_.-]*)|([a-z][a-zA-Z0-9_.-]*)|([A-Z][a-zA-Z0-9_.-]*))(~)?(~)?([_.-])?$/);\n  if (!m)\n    throw new SyntaxError(\"bad name in doubleDots url definition: \" + key + \"=\" + value);\n  let [, pFix, portal, reaction, trigger, rule, square, _] = m;\n  rule = rule ? \"defineRule\" : \"define\";\n  if (reaction || trigger) {\n    const type = trigger ? \"Triggers\" : \"Reactions\";\n    fullname = pFix +\n      DoubleDots.pascalToKebab(reaction || trigger.replace(/[A-Z]/, c => c.toLowerCase()));\n    value ||= reaction || trigger;\n    yield { type, fullname, rule, value };\n  } else if (portal) {\n    portal = portal.toLowerCase().replaceAll(/_[a-z]/g, m => m[1].toUpperCase());\n    reaction = pFix + portal;\n    let rValue = value ? value[0].toLowerCase() + value.slice(1) : reaction;\n    fullname = pFix +\n      DoubleDots.pascalToKebab(reaction.replace(/[A-Z]/, c => c.toLowerCase()));\n    portal = portal.replace(/[a-z]/, m => m.toUpperCase());\n    trigger = pFix + portal;\n    let tValue = value || trigger;\n    _ = square ? _ || \"_\" : \"\";\n    if (square || rule === \"define\")\n      yield { type: \"Triggers\", rule: \"define\", fullname, value: tValue };\n    if (square || rule === \"defineRule\")\n      yield { type: \"Triggers\", rule: \"defineRule\", fullname: fullname + _, value: tValue + _ };\n    if (square || rule === \"define\")\n      yield { type: \"Reactions\", rule: \"define\", fullname, value: rValue };\n    if (square || rule === \"defineRule\")\n      yield { type: \"Reactions\", rule: \"defineRule\", fullname: fullname + _, value: rValue + _ };\n  }\n}\n\nasync function defineImpl(url, root) {\n  for (let r of parse(url))\n    root[r.type][r.rule](r.fullname, loadDef(url, r.value));\n};\n\n//_:define  => must be installed to enable the loading of doubledots triggers and reactions.\nexport function define() {\n  const src = this.ownerElement.getAttribute(\"src\");\n  const base = src ? new URL(src, location) : location;\n  defineImpl(new URL(this.value, base), this.ownerDocument);\n}", "// (function () {\nconst ElAppendOG = DoubleDots.nativeMethods(\"Element.prototype.append\");\nconst DocfragAppendOG = DoubleDots.nativeMethods(\"DocumentFragment.prototype.append\");\nconst CommentAfterOG = DoubleDots.nativeMethods(\"Comment.prototype.after\");\nconst cloneNodeOG = DoubleDots.nativeMethods(\"Node.prototype.cloneNode\");\nconst docCreateElOG = DoubleDots.nativeMethods(\"Document.prototype.createElement\");\n\nfunction setAttributes(el, txt) {\n  const pieces = txt.split(/([_a-zA-Z][a-zA-Z0-9.:_-]*=\"[^\"]*\")/);\n  pieces.forEach((unit, i) => {\n    if (i % 2 === 1) {\n      const [_, name, value] = unit.match(/^([_a-zA-Z][a-zA-Z0-9.:_-]*)=\"([^\"]*)\"$/);\n      el.setAttribute(name, value);\n    } else if (unit.trim() !== \"\") {\n      throw new SyntaxError(`<!--<template ${txt}>-->` + ' has an incorrect name=\"value\"');\n    }\n  });\n}\n\nfunction subsumeNodes(at) {\n  const el = at.ownerElement;\n  const t = docCreateElOG.call(document, \"template\");\n  setAttributes(t, at.value);\n  DocfragAppendOG.call(t.content, ...el.childNodes);\n  ElAppendOG.call(el, t);\n  return t;\n}\n\nfunction subsumeHtml(at) {\n  const el = at.ownerElement;\n  el.innerHTML = `<template ${at.value}>${el.innerHTML}</template>`;\n  return el.children[0];\n}\n\nfunction absorbNodes({ start, nodes, txt, end }) {\n  const t = docCreateElOG.call(document, \"template\");\n  setAttributes(t, txt);\n  DocfragAppendOG.call(t.content, ...nodes);\n  CommentAfterOG.call(start, t);\n  start.remove(), end?.remove();\n}\n\nfunction absorbHtml({ start, nodes, txt, end }) {\n  let content = \"\";\n  for (let n of nodes) {\n    content += n.outerHTML ?? n instanceof Comment ? `<!--${n.textContent}-->` : n.textContent;\n    n.remove();\n  }\n  start.insertAdjacentHTML(\"afterend\", `<template ${txt}>${content}</template>`);\n  start.remove(), end?.remove();\n}\n\nfunction gobble(start) {\n  const txt = start.textContent.match(/^\\s*<template(.*)>\\s*$/)[1];\n  const nodes = [];\n  for (let n = start; n = n.nextSibling;) {\n    if (n instanceof Comment && n.textContent.match(/^\\s*<\\/template\\s*>\\s*$/))\n      return { start, nodes, txt, end: n };\n    nodes.push(n);\n  }\n  return { start, nodes, txt };\n}\n\nfunction* templateTriggers(el, trigger) {\n  for (let n, it = document.createNodeIterator(el, NodeFilter.SHOW_ELEMENT); n = it.nextNode();)\n    for (let a of n.attributes)\n      if (a.name.startsWith(trigger)) {\n        yield a;\n        break;\n      }\n}\n\nfunction* templateCommentStarts(root) {\n  const it = document.createNodeIterator(root, NodeFilter.SHOW_COMMENT);\n  for (let n; n = it.nextNode();)\n    if (n.textContent.match(/^\\s*<template(.*)>\\s*$/))\n      yield n;\n}\n\nfunction hashDebug(el) {\n  el = cloneNodeOG.call(el, true);\n  for (let a of el.attributes)\n    if (a.name.startsWith(\"template:\"))\n      el.removeAttribute(a.name);\n  return `Replace the following element in your code:\\n\\n${el.outerHTML}`;\n}\n\nexport class Template extends AttrCustom {\n  upgrade(dynamic) {\n    const el = this.ownerElement;\n    if (el instanceof HTMLTemplateElement)\n      throw new Error(\"template trigger cannot be applied to template elements.\");\n    if (!el.childNodes.length === 0 || el.children.length === 1 && el.children[0] instanceof HTMLTemplateElement)\n      return;\n    const subsume = dynamic ? subsumeHtml : subsumeNodes;\n    const absorb = dynamic ? absorbHtml : absorbNodes;\n\n    const attributes = [...templateTriggers(el, this.trigger + \":\")].reverse();\n    const templates = attributes.map(subsume);\n    for (let t of templates)\n      for (let comment of [...templateCommentStarts(t.content)].reverse())\n        absorb(gobble(comment));\n\n    DoubleDots.log?.('template: production tutorial', hashDebug(el));\n    //todo now we don't have any events coming from the template: trigger.\n    //todo below is what it looks like if we upgrade and dispatch an event using downward propagation.\n    // for (let a of attributes)\n    //   AttrCustom.upgrade(a);\n    // eventLoop.dispatchBatch(new Event(\"template\"), [attributes]);\n  }\n}\n\n\n// todo this is no longer needed. We can now just use el.children.0\nexport function template() {\n  return this.ownerElement.children[0];\n}\n// })();", "function* sameCssAttr(trigger, root) {\n  for (let el of root.querySelectorAll(`[${trigger}\\\\:]`))\n    yield el.getAttributeNode(trigger + \":\");\n  for (let temp of root.querySelectorAll(\"template\"))\n    yield* sameCssAttr(trigger, temp.content);\n}\n\n//PARSER\nfunction parse(name) {\n  const [type, ...args] = name.split(\"_\");\n  if (type === \"color\") {\n    const [color, backgroundColor, borderColor] = args;\n    return { [name]: { color, backgroundColor, borderColor } };\n  }\n  return {};\n}\n\n//INTERPRET\nfunction interpretSelector(name){\n  return [\"hover\", \"valid\", \"invalid\"].includes(name)? \":\" + name : name;\n}\n\nfunction updateStyleSheet(name, values, selectors) {\n  const selector = selectors?.map(interpretSelector).join(\"\") ?? \"\";\n\n  const style = document.querySelector(\"style#\" + name) ?? (document.head.insertAdjacentHTML(\"beforeend\", `<style id=\"${name}\"></style>`), document.head.lastElementChild);\n\n  let txt = \"\"\n  for (let rule in values) {\n    const body = Object.entries(values[rule]).map(([k,v])=>{\n      k = DoubleDots.pascalToKebab(k);\n      // const a = `  --${k}: unset;`;\n      return `  ${k}: var(--${k}, ${v});`\n    }).join(\"\\n\");\n    txt += `.${name+rule}${selector} {\\n${body}\\n}\\n\\n`;\n  }\n  style.textContent = txt;\n}\n\n//todo grid\n//todo --color, --background-color, --border-color overrides\nexport class Css extends AttrCustom {\n  upgrade() {\n    let [_, ...selectors] = this.trigger.split(\"_\");\n    const attrs = [this, ...sameCssAttr(this.trigger, this.ownerElement)].filter(at => at.value);\n\n    const parsed = attrs.reduce((acc, at) => Object.assign(acc, parse(at.value)), {});\n    updateStyleSheet(this.trigger, parsed, selectors);\n\n    for (let at of attrs) {\n      at.ownerElement.classList.add(this.trigger+at.value);\n      at.ownerElement.removeAttribute(at.name);\n    }\n  }\n}\n\nexport function Css_(rule) { return Css; }", "export function wait_(rule) {\n  const [_, ms] = rule.split(\"_\");\n  return arg => new Promise(r => setTimeout(_ => r(arg), ms));\n}", "import { } from \"./1_DoubleDots.js\";\nimport { } from \"./2_AttrCustom.js\";\nimport { } from \"./3_definition_registers_v4.js\";\nimport { } from \"./4_eventLoop_v2.js\";\nimport { loadDoubleDots } from \"./5_load_DoubleDots.js\";\nimport { define } from \"../../x/define/v1.js\";\nimport { Template, template } from \"../../x/template/v1.js\";\nimport { Css, Css_ } from \"../../x/css/v1.js\";\nimport { wait_ } from \"../../x/wait/v1.js\";\n\ndocument.Triggers.define(\"template\", Template);\ndocument.Reactions.define(\"template\", template);\ndocument.Triggers.define(\"css\", Css);\ndocument.Triggers.defineRule(\"css_\", Css_);\ndocument.Reactions.define(\"define\", define);\ndocument.Reactions.defineRule(\"wait_\", wait_);\n\nloadDoubleDots(EventTarget.prototype.addEventListener);\n"],
  "mappings": "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",
  "names": ["Def", "AttrCustom", "AttrEmpty", "AttrCustom", "AttrEmpty", "fullname", "p", "OG", "m", "parse", "_"]
}
